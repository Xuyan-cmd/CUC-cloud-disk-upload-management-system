# â˜ï¸ä¸­ä¼ æ”¾å¿ƒä¼ ï¼ˆCUC-cloud-disk-upload-management-systemï¼‰æŠ€æœ¯æŠ¥å‘Š

**ä¸€ä¸ªåŸºäºVueå’Œspringboot+mybatispluså®ç°çš„æ–‡ä»¶äº‘ç›˜ç®¡ç†ç³»ç»Ÿ**

[![Typing SVG](https://readme-typing-svg.herokuapp.com?size=30&duration=1497&center=%E9%94%99%E8%AF%AF%E7%9A%84&vCenter=%E9%94%99%E8%AF%AF%E7%9A%84&multiline=true&width=620&height=70&lines=%E4%B8%AD%E4%BC%A0%E6%94%BE%E5%BF%83%E4%BC%A0;CUC-cloud-disk-upload-management-system)](https://git.io/typing-svg)

**ä½œè€…**ï¼šç™¾å·ğŸŒŠ

**è´Ÿè´£å·¥ä½œ**ï¼šé¡¹ç›®æ•´ä½“è§„åˆ’ã€å‰ç«¯é¡µé¢ç¼–å†™ã€åç«¯å¹³å°æ­å»ºã€ç½‘ç«™éƒ¨ç½²ã€å…·ä½“åŠŸèƒ½ä¿®å¤æµ‹è¯•

**æ—¶é—´**ï¼š2022.8

**å‰ç«¯å·¥ä½œæ—¥å¿—**ï¼š[å‰ç«¯å¼€å‘æ—¥å¿—](https://github.com/Xuyan-cmd/CUC-cloud-disk-upload-management-system/blob/front_end/README.md)

**åç«¯å·¥ä½œæ—¥å¿—**ï¼š[åç«¯å¼€å‘æ—¥å¿—](https://github.com/Xuyan-cmd/CUC-cloud-disk-upload-management-system/blob/front_end/README.md)

ğŸ’½**ç³»ç»ŸåŠŸèƒ½æ“ä½œè§†é¢‘æ¼”ç¤ºåœ°å€:**[æ“ä½œè§†é¢‘æ¼”ç¤ºåœ°å€](https://reurl.cc/5ppvGq)

ğŸ’­**é¡¹ç›®åœ¨çº¿åœ°å€**ï¼šhttp://119.23.64.32/

ğŸ†**é¡¹ç›®åŸŸå**ï¼šhttp://www.cucinstall.cn/ ï¼ˆç›®å‰è¿˜åœ¨å¤‡æ¡ˆä¸­ã€‚ã€‚ã€‚ã€‚ã€‚ï¼‰

## å‰è¨€

æœ¬æ¬¡å°å­¦æœŸçš„å®è·µç›®æ ‡æ˜¯å®ç°ä¸€ä¸ªç»“åˆæœ¬ä¸“ä¸šå¯†ç å­¦å’Œç½‘ç»œå®‰å…¨çŸ¥è¯†ä½“ç³»çš„ä¸€ä¸ªæ–‡ä»¶ç®¡ç†äº‘ç›˜ç³»ç»Ÿï¼Œè¦æ±‚åšåˆ°æœ‰æ–‡ä»¶ç®¡ç†çš„åŸºç¡€åŠŸèƒ½ï¼ˆå¢åˆ æ”¹æŸ¥ï¼‰ä»¥å¤–è¿˜è¦èå…¥ç½‘ç»œç©ºé—´å®‰å…¨ä¸“ä¸šæ‰€ç‰¹æœ‰çš„ä¸“ä¸šçŸ¥è¯†ï¼Œæ˜¯ä¸€æ¬¡ååˆ†æœ‰æ„ä¹‰çš„å¹¶ä¸”èƒ½å¤ŸæŒ–æ˜è‡ªèº«èƒ½åŠ›å’Œä¸€ä¸ªæ·±åº¦å­¦ä¹ çš„è¿‡ç¨‹ã€‚

å¯¹äºæˆ‘è€Œè¨€ï¼Œè¿™ä¸€ä¸ªå¤šæœˆçš„å¼€å‘æ—¶é—´é‡Œï¼Œæˆ‘é‡åˆ°äº†å¾ˆå¤šçš„å›°éš¾å’ŒçŸ¥è¯†ç›²åŒºï¼Œä½†åœ¨è¿™æ ·æŒç»­å­¦ä¹ çš„ä¸€ä¸ªè¿‡ç¨‹ä¸­ï¼Œæˆ‘èƒ½å¤Ÿæ·±åˆ»æ„è¯†åˆ°è‡ªå·±å¯¹äºå¾ˆå¤šçŸ¥è¯†çš„åŒ®ä¹ï¼Œå› æ­¤ä¹Ÿæ˜¯è¿™æ ·ä¸€ä¸ªå¥‘æœºå¸¦åŠ¨ç€æˆ‘å»å­¦ä¹ å’Œæ‘¸ç´¢ã€‚

åœ¨æœ€åˆçš„è®¡åˆ’é˜¶æ®µï¼Œæˆ‘çš„è®¾æƒ³æ˜¯åŸºäºè€å¸ˆç»™å‡ºçš„æ¨¡æ¿è¿›è¡Œå¼€å‘ï¼Œä½†æ˜¯å’Œå°ç»„æˆå‘˜è¿›è¡Œäº†è®¨è®ºåï¼Œå¤§å®¶æ›´æ„¿æ„å€ŸåŠ©è¿™æ ·ä¸€æ®µæ—¶é—´å»ä»0å¼€å§‹å»æ­å»ºå¼€å‘ï¼Œäºæ˜¯æˆ‘ä»¬å»æŸ¥é˜…ç›¸å…³èµ„æ–™ï¼Œç»“åˆæˆ‘ä»¬ç°æœ‰çš„çŸ¥è¯†å‚¨å¤‡ï¼Œæœ€ç»ˆå†³å®šä½¿ç”¨å½“å‰å¸‚åœºä¸»æµçš„å¼€å‘æ¡†æ¶å’Œå·¥å…·ï¼Œå‰ç«¯é‡‡ç”¨å½“å‰è¾ƒä¸ºç«éçš„**Vueæ¡†æ¶**ï¼Œåç«¯ä½¿ç”¨è¿‘å‡ å¹´çš„æ–°é”**SpringBootæ¡†æ¶**ã€‚è€Œåœ¨å…·ä½“å¼€å‘è¿‡ç¨‹ä¸­ç»“åˆå¯†ç å­¦çŸ¥è¯†åŸºç¡€å’Œè¦æ±‚å»å®Œæˆè¿™æ ·ä¸€ä¸ªäº‘ç›˜æ–‡ä»¶ç®¡ç†ç³»ç»Ÿâ€”â€”**ä¸­ä¼ æ”¾å¿ƒä¼ **

æˆ‘å¯¹äºå‰ç«¯å¼€å‘æ‰€ä½¿ç”¨çš„Vueæ¡†æ¶æœ‰ä¸€å®šçš„åŸºç¡€ï¼Œè€Œå¯¹äºåç«¯çš„æ¥å£é€»è¾‘ç¼–å†™å’Œæ­å»ºåªçŸ¥çš®æ¯›ï¼Œå› æ­¤æˆ‘ä»¬å°ç»„åœ¨åç«¯çš„å¼€å‘è¿‡ç¨‹ä¸­èŠ±è´¹ç›¸å½“å¤§çš„å­¦ä¹ æˆæœ¬ï¼Œè¿™ä¸­é—´å‡ºç°äº†å¾ˆå¤šBugå’ŒæŠ€æœ¯å£å’ï¼Œæˆ‘ä¸€åº¦æ›¾æ€€ç–‘æˆ‘ä»¬æ˜¯å¦æœ‰èƒ½åŠ›åœ¨è¿™æ ·çŸ­çš„æ—¶é—´å†…å»å®Œæˆè¿™æ ·çš„å¼€å‘ï¼Œä½†æ„Ÿè°¢æˆ‘çš„ç»„å‘˜ï¼Œæˆ‘ä»¬å§‹ç»ˆæ²¡æœ‰é€€ç¼©ï¼Œæœ€ç»ˆçœŸçš„ä»0åˆ°å®Œæ•´å¼€å‘å‡ºæˆå“ï¼è™½ç„¶å­˜åœ¨å¾ˆå¤šä¸å®Œç¾çš„åœ°æ–¹å’Œæœ‰å¾…å•†æ¦·çš„æŠ€æœ¯ç»†èŠ‚ï¼Œä½†å¯¹äºæˆ‘ä»¬å°ç»„æ¯ä¸€ä¸ªäººè€Œè¨€ï¼Œè¿™æ®µæ—¶é—´çš„å­¦ä¹ å’Œå®è·µæ˜¯æœ¬æ¬¡æš‘æœŸå°å­¦æœŸæœ€å¤§çš„æ”¶è·å’Œæ„ä¹‰ï¼

## å¼€å‘å†…å®¹å›é¡¾

åœ¨è¿™ä¸ªç« èŠ‚ï¼Œæˆ‘ä¸»è¦åˆ—å‡ºäº†æˆ‘åœ¨æ•´ä¸ªå¼€å‘è¿‡ç¨‹ä¸­å°è±¡æ·±åˆ»çš„ä¸€äº›å†…å®¹ï¼ŒåŒ…æ‹¬éƒ¨åˆ†é—®é¢˜çš„è§£å†³æ€è·¯ã€çŸ¥è¯†å­¦ä¹ å›é¡¾ã€Bugä¿®å¤çš„æ–¹æ³•ã€‚

**é¡¹ç›®ä¸»ä½“å¼€å‘æ€è·¯æ¡†æ¶ï¼š**![](https://s6.jpg.cm/2022/08/03/PQMxgX.jpg)

### å‰ç«¯å¼€å‘

- **å¯¹äºç”¨æˆ·æ³¨å†Œå£ä»¤ä¿¡æ¯çš„å¯†ç å¼ºåº¦æ ¡éªŒå’Œè§„åˆ™è®¾å®š**
  
  - ä¸ºäº†ç¡®ä¿ç”¨æˆ·æ³¨å†Œæ—¶å£ä»¤ä¿¡æ¯çš„å®‰å…¨å¼ºåº¦ï¼Œå› æ­¤éœ€è¦ç›´æ¥åœ¨ç”¨æˆ·æ³¨å†Œæ—¶å¯¹å…¶å£ä»¤è¿›è¡Œæ ¡éªŒå’Œè§„åˆ™è®¾å®šï¼Œå› æ­¤æˆ‘é€‰æ‹©ç»“åˆelement-uiçš„formè¡¨å•å·¥å…·å’Œæ­£åˆ™è¡¨è¾¾å¼å»å®ç°è¿™æ ·çš„åŠŸèƒ½é€»è¾‘ï¼Œä¾‹å¦‚é¡¹ç›®ä¸­æˆ‘è®¾å®šäº†ç”¨æˆ·çš„ç”¨æˆ·åé™åˆ¶åœ¨11ä½ï¼Œå£ä»¤é•¿åº¦8-36ï¼Œå…¶ä¸­å£ä»¤åªæ¥å—é˜¿æ‹‰ä¼¯æ•°å­—ã€è‹±æ–‡å­—æ¯ã€é™¤-ã€_\ã€ä»¥å¤–çš„å­—ç¬¦ï¼Œé€šè¿‡æ­£åˆ™è¡¨è¾¾å¼å»é™åˆ¶å…·ä½“çš„å†…å®¹ã€‚
  
  - ```typescript
    <el-form-item>
     <el-input
        v-model="registered.password"
        @input="checkPassLever"
        type="password"
        placeholder="è¯·è¾“å…¥å¯†ç "
        onkeyup="value=value.replace(/[^\a-\z\A-\Z0-9\-\_\.]/g,'')"
        maxlength="36"
        minlength="8"
        show-word-limit
        ></el-input>
    ```

- **å‰ç«¯é¡µé¢è·¯ç”±è·³è½¬é—®é¢˜çš„åˆ†æ**
  
  - åœ¨å¼€å‘å‰ç«¯é¡µé¢è¿‡ç¨‹ä¸­ï¼Œå‡ºç°äº†å¯¹äºè·¯ç”±è®¾å®šçš„é—®é¢˜ï¼Œå½“æŒ‰è¿”å›é”®çš„æ—¶å€™é¡µé¢å¹¶æ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œä¸€å¼€å§‹è¿˜ä»¥ä¸ºæ˜¯æ²¡æœ‰ç›‘å¬åˆ°è¿”å›äº‹ä»¶ï¼Œä½†æ˜¯é€šè¿‡æµ‹è¯•ä¹‹åå‘ç°è¿”å›äº‹ä»¶ç›‘å¬æˆåŠŸäº†ï¼Œè·¯ç”±ä¹Ÿå‘ç”Ÿäº†å˜åŒ–ï¼Œç›¸åº”äº‹ä»¶ä¹Ÿè§¦å‘äº†ï¼Œå°±æ˜¯é¡µé¢è§†å›¾æ²¡æœ‰è·Ÿç€æ”¹å˜ã€‚
  
  - åŸå› åˆ†æï¼šé¡¹ç›®ä¸­è·¯ç”±è®¾ç½®çš„æ˜¯ **hashæ¨¡å¼**ï¼Œæ‰€ä»¥å¯¹ hashchange äº‹ä»¶è¿›è¡Œç›‘å¬hashæ¨¡å¼ä¸‹ï¼Œè·¯ç”±çš„å˜åŒ–ä¼šè§¦å‘hashchangeäº‹ä»¶ï¼‰ã€‚å› æ­¤è¦é‡æ–°åœ¨app.vueæ–‡ä»¶ä¸­é‡æ–°ç»‘å®šè·¯ç”±ï¼Œä»è€Œè·¯ç”±ä¸ä¼šå› ä¸ºé‡å¤è°ƒç”¨è€Œå¯¼è‡´ä¸èƒ½æ”¹å˜è§†å›¾ã€‚
    
    - ```typescript
       mounted() {
          // æ£€æµ‹æµè§ˆå™¨è·¯ç”±æ”¹å˜é¡µé¢ä¸åˆ·æ–°é—®é¢˜,hashæ¨¡å¼çš„å·¥ä½œåŸç†æ˜¯ hashchangeäº‹ä»¶
          window.addEventListener('hashchange', () => {
          let currentPath = window.location.hash.slice(1)
          if (this.$route.path !== currentPath) {
            this.$router.push(currentPath)
          }
        }, false)
      }
      ```

- **ä½¿ç”¨axiosè®¿é—®apiæ—¶å‡ºç°çš„é—®é¢˜**
  
  - **axiosä½¿ç”¨postè¯·æ±‚æœåŠ¡ç«¯ä¸èƒ½è·å–å‚æ•°çš„è§£å†³æ–¹æ³•**ï¼š
  
  - é¡¹ç›®ä¸­ä½¿ç”¨åˆ°axiosä½œä¸ºajaxè¯·æ±‚æ’ä»¶ï¼Œç”¨åˆ°postè¯·æ±‚æ˜¯å¸¸è§çš„ï¼Œä½†æ˜¯åå°è¯´æ²¡æœ‰æ¥æ”¶åˆ°ä¼ è¿‡å»çš„å‚æ•°ï¼Œä½†æ˜¯å¯ä»¥æ”¶åˆ°è¯·æ±‚ï¼Œå‰ç«¯æ£€æŸ¥äº†å¥½å‡ éï¼Œæµè§ˆå™¨çš„è¯·æ±‚ä¿¡æ¯æ˜¯ OK çš„ï¼Œè¯·æ±‚å°è£…ä¹Ÿæ˜¯okçš„ï¼Œå‚æ•°éƒ½æ˜¯æœ‰çš„ï¼Œå‰ç«¯çœ‹æ˜¯æœåŠ¡ç«¯çš„é—®é¢˜ï¼ŒæœåŠ¡ç«¯ç›‘æµ‹æ˜¯å‰ç«¯çš„é—®é¢˜ï¼Œè¿™å°±ååˆ†æŠ“ç‹‚ã€‚
  
  - å…¶å®æ˜¯axiosåœ¨å†…éƒ¨è‡ªåŠ¨å¸®æˆ‘ä»¬è½¬æ¢jsonæ ¼å¼æ•°æ®, ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬çš„ Content-Type å˜æˆäº† application/json;charset=utf-8
    ç„¶åï¼Œå› ä¸ºæˆ‘ä»¬çš„å‚æ•°æ˜¯ JSON å¯¹è±¡ï¼Œaxios å¸®æˆ‘ä»¬åšäº†ä¸€ä¸ª stringify çš„å¤„ç†ã€‚ è€Œaxios ä½¿ç”¨ post å‘é€æ•°æ®æ—¶ï¼Œé»˜è®¤æ˜¯ç›´æ¥æŠŠ json æ”¾åˆ°è¯·æ±‚ä½“ä¸­æäº¤åˆ°åç«¯çš„ã€‚
    é‚£ä¹ˆï¼Œè¿™å°±ä¸æˆ‘ä»¬æœåŠ¡ç«¯è¦æ±‚çš„ â€˜Content-Typeâ€™: â€˜application/x-www-form-urlencodedâ€™ ä¸ç¬¦åˆã€‚
    
    é¦–å…ˆæˆ‘å°è¯•äº†ç»™axios å¤´æ·»åŠ postè¯·æ±‚æ–¹æ³•çš„ Content-Typeï¼š
    
    ```typescript
    axios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded'; 
    ```
    
    ä½†æ˜¯å¹¶æ²¡æœ‰èµ·æ•ˆæœï¼Œç¿»äº†åŠå¤©æ–‡æ¡£åˆæŸ¥äº†ä¸€ä¸‹éœ€è¦åºåˆ—åŒ–, qsåºåˆ—åŒ–è¯·æ±‚å‚æ•°å³å¯ï¼Œå½“ç„¶ä½ å¯ä»¥åœ¨å°è£…è¯·æ±‚æ–¹æ³•çš„apiä¸­æ¯æ¬¡è¯·æ±‚æ—¶ä½œå¤„ç†ï¼Œæˆ‘è¿™é‡Œä½¿ç”¨äº†å°è£…axiosæ—¶ç›´æ¥åœ¨requestè¯·æ±‚æ‹¦æˆªå™¨ä¸­åšäº†å¤„ç†ï¼š
    
    ```typescript
    import Qs from 'qs'
    axios.interceptors.request.use( (config) => {
        if (config.method=="post"){
            config.data = qs.stringify(config.data);
            config.headers['Content-Type'] = 'application/x-www-form-urlencoded';
        }
        return config;
    },  (error) => {
        return Promise.reject(error);
    });
    ```
    
    æœ€åæˆåŠŸå‘é€postè¯·æ±‚ï¼Œå¾—åˆ°æ•°æ®ã€‚
  
  - **ä½¿ç”¨axiosï¼Œgetæ•°æ®æ˜¯æ­£å¸¸çš„ã€‚ä½†æ˜¯æ¸²æŸ“æ•°æ®æ—¶dataä¸€ç›´ä¸ºç©ºè§£å†³æ–¹æ¡ˆï¼š**
  
  - åŸå› ;åœ¨ajaxä¸­çš„thisä¼šæŒ‡å‘ajaxæœ¬èº«ï¼Œè€Œä¸å†æ˜¯vueå®ä¾‹æœ¬èº« ï¼ŒåŒç†ï¼Œaxiosçš„thenä¸­thisä¹Ÿä¸æ˜¯æŒ‡å‘vueå®ä¾‹æœ¬èº«ã€‚
    
    - **æ–¹æ³•1ï¼š** ç”¨ES6ç®­å¤´å‡½æ•°ï¼Œç®­å¤´æ–¹æ³•å¯ä»¥å’Œçˆ¶æ–¹æ³•å…±äº«å˜é‡ ( ES6ä¸­çš„ ç®­å¤´å‡½æ•° â€œ=>â€ å†…éƒ¨çš„thisæ˜¯è¯æ³•ä½œç”¨åŸŸï¼Œç”±ä¸Šä¸‹æ–‡ç¡®å®š(ä¹Ÿå°±æ˜¯ç”±å¤–å±‚è°ƒç”¨è€…vueæ¥ç¡®å®š) )
    
    - ```typescript
      axios({
                  method:'get',
                  url:'/api/info'
                })
              .then((response) => {
                console.log(response.data)
                that.listClass = response.data
              }).catch((error) => { // è¯·æ±‚å¤±è´¥å¤„ç†
              console.log(error);
            });
      ```
  
  - **æ–¹æ³•2ï¼š** åœ¨è¯·æ±‚axioså¤–é¢å®šä¹‰ä¸€ä¸‹ var that=this
    
    - ```typescript
      //ç”¨axiosè·å–æ•°æ®
            var that = this
            axios({
                  method:'get',
                  url:'/api/info'
                })
              .then(function(response){
                console.log(response.data)
                that.listClass = response.data
              }).catch(function(error){ // è¯·æ±‚å¤±è´¥å¤„ç†
              console.log(error);
            });
      ```
      
      **å‚è€ƒ**ï¼š[axioså®˜æ–¹æ–‡æ¡£](http://axios-js.com/zh-cn/docs/index.html)

- **å¦‚ä½•ä¼˜é›…çš„åªåœ¨å½“å‰é¡µé¢ä¸­è¦†ç›–uiåº“ä¸­ç»„ä»¶çš„æ ·å¼**
  
  - ç†Ÿæ‚‰webpackçš„äººåº”è¯¥çŸ¥é“ï¼Œå¼•å…¥çš„CSSæ–‡ä»¶æœ€ç»ˆéƒ½ä¼šè¢«style-loaderå¤„ç†ã€‚ç®€å•æ¥è¯´ï¼Œå®ƒçš„ä½œç”¨å°±æ˜¯æŠŠCSSæ–‡ä»¶æ‰“åŒ…ï¼Œæ”¾åœ¨styleæ ‡ç­¾å†…ï¼Œæœ€åå¡è¿›HTMLä¸­ä½œä¸ºä¸€ä¸ªå†…éƒ¨æ ·å¼è¡¨ã€‚ä¸ç®¡æ˜¯ç»„ä»¶åº“çš„æ ·å¼è¿˜æ˜¯æˆ‘ä»¬å†™çš„è‡ªå®šä¹‰æ ·å¼éƒ½æ˜¯è¿™æ ·å¤„ç†çš„ã€‚
  
  - ![](https://s6.jpg.cm/2022/08/04/PdGEZX.jpg)
  
  - æˆ‘ä»¬è¦æŠŠç»„ä»¶åº“çš„æ ·å¼å…ˆäºè‡ªå®šä¹‰æ ·å¼å¼•å…¥ï¼Œè¿™æ ·è‡ªå®šä¹‰æ ·å¼æ‰èƒ½æœ‰æ›´é«˜çš„ä¼˜å…ˆçº§ã€‚
  
  - ç›´æ¥æ”¹ç»„ä»¶åº“çš„CSSæºç æ˜¯æœ€ç®€å•ç²—æš´çš„æ–¹æ³•ã€‚æ‰“å¼€ä½ é¡¹ç›®çš„node_modulesæ–‡ä»¶å¤¹ï¼Œä¸€å±‚å±‚ç‚¹å¼€ï¼Œæ‰¾åˆ°å¯¹åº”æ ·å¼æ–‡ä»¶ï¼ŒæŒ‰ç…§éœ€æ±‚ä¿®æ”¹å³å¯ã€‚ä¸ªäººé¡¹ç›®è¿™æ ·å¤„ç†ç¡®å®å¯è¡Œï¼Œä½†æ˜¯å›¢é˜Ÿåˆä½œæ—¶ï¼ŒåŒæ­¥åˆ«äººæœ¬åœ°çš„node_moduleså°±æ¯”è¾ƒéº»çƒ¦ï¼Œåªèƒ½ç®—ä¸€ä¸ª60åˆ†è§£æ³•ã€‚
  
  - **å…¨å±€CSSæ–‡ä»¶**
    
    ä¹‹å‰æåˆ°ï¼ŒæŠŠè‡ªå·±å†™çš„çš„CSSæ–‡ä»¶æ”¾åœ¨ç»„ä»¶åº“çš„æ ·å¼åé¢ï¼Œå¯ä»¥ä¿éšœè‡ªå®šä¹‰æœ‰æ›´é«˜ä¼˜å…ˆçº§ã€‚åªè¦é‡å†™åŒåçš„æ ·å¼ï¼Œç†è®ºä¸Šå°±èƒ½å®ç°è¦†ç›–ç»„äº†ã€‚
    
    ä½†è¿™æ ·ğŸ‘‡å¤„ç†ä¼šå‘ç°å¹¶ä¸èµ·ä½œç”¨ï¼š
    
    ```css
    /* src/demo.css */
    .ant-picker-calendar-date-today {
      border-color: purple; /* è¦†ç›–ä¸ºç´«è‰² */
    }
    ```
    
    ```css
    // src/Demo.js
    
    // ç»„ä»¶åº“çš„æ ·å¼
    import 'ant-design-vue/dist/antd.css'; 
    // è‡ªå®šä¹‰æ ·å¼
    import './demo.css'
    import { Calendar } from 'antd';
    ...
    <div className="myWrapper">
      <Calendar />
    </div>
    ```
    
    å› ä¸ºè¿™é‡Œè¿˜æ¶‰åŠCSSç»„åˆé€‰æ‹©å™¨çš„ä¼˜å…ˆçº§ã€‚
    
    åŸºç¡€çš„ä¼˜å…ˆçº§åº”è¯¥ä¸ç”¨èµ˜è¿°ï¼š`!important>å†…è”æ ·å¼>IDé€‰æ‹©å™¨>ç±»é€‰æ‹©å™¨>æ ‡ç­¾é€‰æ‹©å™¨`ã€‚ï¼ˆ!importantè¿™ç§hackä¼šå¯¼è‡´é¡¹ç›®ä¸å¥½ç»´æŠ¤ï¼Œä¸æå€¡ä½¿ç”¨ï¼‰
    
    åœ¨è¿™ä¸ªåŸºç¡€ä¸Šè¿˜æœ‰äº”ç§ç»„åˆé€‰æ‹©å™¨è¦å¯¹ä¼˜å…ˆçº§åˆ†æ•°åšç´¯è®¡ï¼Œä»¥ç±»é€‰æ‹©å™¨ä¸ºä¾‹ï¼š
    
    1. åä»£é€‰æ‹©å™¨ï¼ˆç©ºæ ¼ï¼‰ï¼š`.A .B`é€‰æ‹©.Aå…ƒç´ åçš„æ‰€æœ‰.Bå…ƒç´ ï¼Œ
    2. å­å…ƒç´ é€‰æ‹©å™¨ï¼ˆå¤§äºå·ï¼‰ï¼š`.A>.B`é€‰æ‹©.Aå…ƒç´ çš„ç›´æ¥åä»£ä¸­çš„.Bå…ƒç´ 
    3. ç›¸é‚»å…„å¼Ÿé€‰æ‹©å™¨ï¼ˆåŠ å·ï¼‰ï¼š`.A+.B`é€‰æ‹©.Aå…ƒç´ åç´§é‚»çš„ç¬¬ä¸€ä¸ªå…„å¼Ÿ.Bå…ƒç´ 
    4. åç»­å…„å¼Ÿé€‰æ‹©å™¨(~å·)ï¼š`.A~.B`é€‰æ‹©.Aå…ƒç´ åæ‰€æœ‰çš„å…„å¼Ÿ.Bå…ƒç´ 
    5. äº¤é›†é€‰æ‹©å™¨ï¼ˆè¿åœ¨ä¸€èµ·ï¼‰ï¼š`.A.B`é€‰æ‹©è‡ªèº«åŒæ—¶æ‹¥æœ‰.Aå’Œ.Bä¸¤ä¸ªå±æ€§çš„å…ƒç´ 

- **æœ¬åœ°å¼€å‘ç¯å¢ƒè¯·æ±‚æœåŠ¡å™¨æ¥å£è·¨åŸŸçš„é—®é¢˜**
  
  - å‰åç«¯åˆ†ç¦»é¡¹ç›®éœ€è¦è§£å†³ç¬¬ä¸€ä¸ªé—®é¢˜å°±æ˜¯ï¼Œå‰ç«¯æœ¬åœ°å¼€å‘æ—¶å¦‚ä½•è§£å†³é€šè¿‡ajaxè¯·æ±‚äº§ç”Ÿçš„è·¨åŸŸçš„é—®é¢˜ã€‚ä¸€èˆ¬çš„åšæ³•æ˜¯é€šè¿‡æœ¬åœ°é…ç½®nginxåå‘ä»£ç†è¿›è¡Œå¤„ç†çš„ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œè¿˜å¯ä»¥é€šè¿‡nodejsæ¥è¿›è¡Œä»£ç†æ¥å£ã€‚å½“ç„¶ï¼Œè¦å®ç°è¿™ä¸ªå‰ææ˜¯ï¼Œå‰ç«¯å¼€å‘ç¯å¢ƒå¿…é¡»è¿è¡Œåœ¨nodejsæœåŠ¡ä¸­ï¼Œæ‰€å¹¸çš„æ˜¯ï¼Œç°åœ¨å‰ç«¯çš„å¼€å‘è‡ªåŠ¨åŒ–å·¥å…·éƒ½æ˜¯å»ºç«‹åœ¨nodejsä¸Šçš„ï¼Œæ‰€ä»¥è¿™ä¸ªå‰æä¹Ÿä¸æ˜¯å¾ˆé‡è¦ã€‚
  
  - è·¨åŸŸæŒ‡æµè§ˆå™¨ä¸å…è®¸å½“å‰é¡µé¢çš„æ‰€åœ¨çš„æºå»è¯·æ±‚å¦ä¸€ä¸ªæºçš„æ•°æ®ã€‚æºæŒ‡åè®®ï¼Œç«¯å£ï¼ŒåŸŸåã€‚åªè¦è¿™ä¸ª3ä¸ªä¸­æœ‰ä¸€ä¸ªä¸åŒå°±æ˜¯è·¨åŸŸã€‚ è¿™é‡Œåˆ—ä¸¾ä¸€ä¸ªç»å…¸çš„åˆ—å­ï¼š
  
  - ```bash
    #åè®®è·¨åŸŸ
    http://a.baidu.comè®¿é—®https://a.baidu.comï¼›
    #ç«¯å£è·¨åŸŸ
    http://a.baidu.com:8080è®¿é—®http://a.baidu.com:80ï¼›
    #åŸŸåè·¨åŸŸ
    http://a.baidu.comè®¿é—®http://b.baidu.comï¼›
    ```
    
    è§£å†³æ–¹æ¡ˆï¼šç”Ÿäº§ç¯å¢ƒçš„è¯è¿˜æ˜¯æ¯”è¾ƒæ¨è`nginx`çš„
    
    - æ¯”å¦‚åç«¯åœ°å€ä¸º`http://localhost:8080/
      é‚£ä¹ˆå‰ç«¯åœ¨ä»£ç é‡Œåªéœ€è¦è®¿é—®`/mall_war/*.do`å°±å¯ä»¥ï¼Œé»˜è®¤å‘çš„æ˜¯éƒ¨ç½²æœåŠ¡å™¨çš„`ip`æ¥è®¿é—®
      ç„¶åå†`nginx`é‡Œé…ç½®å¦‚ä¸‹
    
    - ```typescript
      server {
          listen       8080;
          server_name  commonFronted;
          # é¡¹ç›®é™æ€èµ„æºç›®å½•
          location / {
              alias     /xxx/dist;
              index     index.html;
          }
      
          location ^~/mall_war/ {
              proxy_pass http://localhost:8089/mall_war/;
              proxy_set_header  Host $host;
              proxy_set_header  X-Real-IP $remote_addr;
              proxy_set_header  X-Forwarded-Proto https;
              proxy_set_header  X-NginX-Proxy true;
              proxy_buffers 256 4k;
              proxy_max_temp_file_size 0k;
              proxy_connect_timeout 30;
              proxy_send_timeout 60;
              proxy_read_timeout 60;
              proxy_next_upstream error timeout invalid_header http_502;            
          }
      }
      ```

- **Vue é¡¹ç›®ä¸­ icon å°å›¾æ ‡ä¸æ˜¾ç¤º**
  
  - åœ¨ HTML æ–‡ä»¶ä¸­æ·»åŠ äº†ä»¥ä¸‹ä»£ç åï¼Œå‘ç°å°å›¾æ ‡è¿˜æ˜¯æ²¡èƒ½å‘ˆç°ï¼Œåº”è¯¥æ˜¯ Vue é¡¹ç›®ç¼ºå°‘ç”Ÿæˆé…ç½®çš„é—®é¢˜
  
  - ```html
    <head>
        <meta charset="utf-8">
        <meta name="author" content="author">
        <title>ä¸»é¡µ</title>
        <!-- æ·»åŠ  favicon.ico ä¸ºç½‘ç«™å›¾æ ‡(æœ‰åœ¨çº¿.jpg, .png æ–‡ä»¶è½¬ .icon å·¥å…·) -->
        <link rel="Bookmark" type="image/x-icon" href="./src/assets/icon/favicon.ico" />
        <link rel="icon" type="image/x-icon" href="./src/assets/icon/favicon.ico" />
        <link rel="shortcut icon" type="image/x-icon" href="./src/assets/icon/favicon.ico" />
    </head>
    ```
    
    **è§£å†³åŠæ³•ï¼š**
    
    åœ¨ `webpack.dev.conf.js`ä¸­æ–°å¢ä¸€è¡Œ favicon ç”Ÿæˆé…ç½®åï¼Œä½¿ç”¨å‘½ä»¤ `npm run dev` é‡æ–°å¯åŠ¨ Vue é¡¹ç›®ã€‚
    
    ```typescript
    new HtmlWebpackPlugin({
          // ä¼šè‡ªåŠ¨å¸®ä½ ç”Ÿæˆä¸€ä¸ª html æ–‡ä»¶ï¼Œå¹¶ä¸”å¼•ç”¨ç›¸å…³çš„ assets æ–‡ä»¶(å¦‚ css, js)
          filename: 'index.html',
          // æ ¹æ®è‡ªå·±çš„æŒ‡å®šçš„æ¨¡æ¿æ–‡ä»¶æ¥ç”Ÿæˆç‰¹å®šçš„ html æ–‡ä»¶
          template: 'index.html',
          // æŒ‡å®š script ä½ç½®, é»˜è®¤ä¸º true --- html æ–‡ä»¶åº•éƒ¨
          inject: true,
    
          // ç»™ç”Ÿæˆçš„ html æ–‡ä»¶ç”Ÿæˆä¸€ä¸ª favicon, å±æ€§å€¼ä¸º favicon æ–‡ä»¶æ‰€åœ¨çš„è·¯å¾„ã€‚
          favicon:'./src/assets/icon/favicon.ico'
    }),
    ```

- **ç»„ä»¶ä¸­ä½¿ç”¨å®šæ—¶å™¨åŠé”€æ¯é—®é¢˜**
  
  - åœ¨é¡µé¢å¼€å‘è¿‡ç¨‹ä¸­ä½¿ç”¨äº†ä¸€ä¸ªå®šæ—¶å™¨ï¼Œå½“ä»é¡µé¢Aè·³è½¬åˆ°é¡µé¢Bæ—¶ï¼Œå¦‚æœä¸æ‰‹åŠ¨æ¸…é™¤è¿™ä¸ªå®šæ—¶å™¨ï¼Œé‚£ä¹ˆå®ƒä»æ—§ä¼šæ‰§è¡Œï¼Œä¼šå½±å“åˆ°åç»­çš„æ¸²æŸ“æ•ˆæœã€‚
    è¿™é‡Œç»™å‡ºæˆ‘çš„è§£å†³åŠæ³•å°±æ˜¯ï¼Œåœ¨`data`å±æ€§ä¸­å®šä¹‰ä¸€ä¸ª`timer`ï¼Œåœ¨ä»£ç ä¸­å¯åŠ¨å®šæ—¶å™¨ï¼Œç„¶ååœ¨ç»„ä»¶é”€æ¯çš„æ—¶å€™æ¸…é™¤å®šæ—¶å™¨ã€‚å…·ä½“ä»£ç å¦‚ä¸‹ï¼šã€
  
  - ```typescript
        data(){
            return{
                timer:null
            }
        },
        methods:{
            onStartTimer(){
                this.timer = setInterval( () => {
                    // æ‰§è¡Œä¸€äº›æ“ä½œ
                }, 1000)
            }
        },
        beforeDestroy() {
            clearInterval(this.timer);        
            this.timer = null;
        }
    ```
    
    ä½†æ˜¯è¿™é‡Œæœ‰ä¸¤ä¸ªæ½œåœ¨çš„é—®é¢˜ï¼š
    
    1. å®ƒéœ€è¦åœ¨è¿™ä¸ªç»„ä»¶å®ä¾‹ä¸­ä¿å­˜è¿™ä¸ª`timer`ï¼Œå¦‚æœå¯ä»¥çš„è¯æœ€å¥½åªæœ‰ç”Ÿå‘½å‘¨æœŸé’©å­å¯ä»¥è®¿é—®åˆ°å®ƒã€‚è¿™å¹¶ä¸ç®—ä¸¥é‡çš„é—®é¢˜ï¼Œä½†æ˜¯å®ƒå¯ä»¥è¢«è§†ä¸ºæ‚ç‰©ã€‚
    2. æˆ‘ä»¬çš„å»ºç«‹ä»£ç ç‹¬ç«‹äºæˆ‘ä»¬çš„æ¸…ç†ä»£ç ï¼Œè¿™ä½¿å¾—æˆ‘ä»¬æ¯”è¾ƒéš¾äºç¨‹åºåŒ–åœ°æ¸…ç†æˆ‘ä»¬å»ºç«‹çš„æ‰€æœ‰ä¸œè¥¿ã€‚
    
    `Vue`å®˜æ–¹æ–‡æ¡£ç»™å‡ºçš„è§£å†³æ–¹æ¡ˆæ˜¯ï¼Œåœ¨å®šä¹‰timerçš„æ—¶å€™ä½¿ç”¨`$once`æŒ‡ä»¤ç›‘å¬`beforeDestroy`è¿™ä¸ªé’©å­å‡½æ•°ã€‚åœ¨è¿™ä¸ªåŸºç¡€ä¸Šè¿›è¡Œæ”¹è¿›çš„è¯ï¼š
    
    ```typescript
        methods:{
            onStartTimer(){
                const timer = setInterval( () => {
                    // æ‰§è¡Œä¸€äº›æ“ä½œ
                }, 1000)
                this.$once('hook:beforeDestroy', () => {            
                    clearInterval(timer);                                    
                })
            }
        },
    ```
    
    è¿™æ ·å°±è§£å†³äº†ä¸Šé¢æ‰€åˆ—çš„ä¸¤ä¸ªé—®é¢˜ã€‚ç±»ä¼¼çš„è¿™ç§åœ¨ç¦»å¼€é¡µé¢æ—¶éœ€è¦é”€æ¯çš„ç»„ä»¶éƒ½å¯ä»¥é‡‡ç”¨æ­¤æ–¹æ³•ã€‚

- **åœ¨å‰ç«¯å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå‘ç°æŠ¥å¦‚ä¸‹é”™è¯¯ï¼š`startvaluehas mixed support,considerusingflex-startinstead`**
  
  - å‘ç°æ˜¯å› ä¸ºCSSå†™æ³•ä¸è§„èŒƒå¯¼è‡´çš„ã€‚ä¹‹å‰çš„CSSå¼¹æ€§ç›’å­æ¨¡å‹å†™æ³•æ˜¯è¿™æ ·çš„ï¼š
    
    `div{display: flex;justify-content: start;}`
    
    <img src="https://s6.jpg.cm/2022/08/04/PdIcnQ.png" style="zoom: 67%;" />
  
  - ä½†æ˜¯è¿™ç§æ˜¯å¾ˆæ—©çš„å±æ€§å€¼äº†ï¼Œæ–°çš„å±æ€§å€¼åº”è¯¥æ˜¯flex-startï¼Œå¦‚ä¸‹ï¼š
    
    <img src="https://s6.jpg.cm/2022/08/04/PdIUJh.png" style="zoom:67%;" />
  
  - æ­¤è‡´é—®é¢˜è§£å†³ã€‚
    
    ![](https://s6.jpg.cm/2022/08/04/PdI1IW.png)

- **Vueè§£å†³æŠ¥é”™ï¼šEmitted value instead of an instance of Erroré—®é¢˜**
  
  - **é‡ç°æŠ¥é”™æç¤ºï¼š**
    
    ```bash
    (Emitted value instead of an instance of Error) <van-cell v-for=" item in this.todoList">: component lists rendered with v-for should have explicit keys. See https://vuejs.org/guide/list.html#key for more info.
    ```
    
    ç”±äºä¸Šè¿°è­¦å‘Šé€ æˆVueé¡¹ç›®ä¸èƒ½å¯åŠ¨ï¼Œè­¦å‘Šçš„å¤§æ¦‚æ„æ€å°±æ˜¯åœ¨ç»„ä»¶é‡Œé¢ä½¿ç”¨v-for ä½†æ˜¯æ²¡æœ‰è®¾ç½®keyï¼Œä¼šé€ æˆéå”¯ä¸€æ€§é—®é¢˜ã€‚
    
    é’ˆå¯¹ä¸Šè¿°é—®é¢˜çš„è§£å†³æ–¹æ³•ï¼š
    
    åœ¨è­¦å‘Šçš„ç»„ä»¶é‡Œé¢v-foråé¢åŠ ä¸€ä¸ªå±æ€§keyï¼Œä¸ºå…ƒç´ ç»‘å®šäº†ä¸€ä¸ªkeyï¼Œ`v-for="(item, index) in this.todoList" :key="index"` çš„æ“ä½œï¼Œå³ï¼š
    
    ```typescript
    <van-cell
                  v-for="(item, index) in this.todoList" :key="index"
                   :to="{ name: 'Approval/Detail', params: { id: item.businessId } }"
                >
                  <van-icon name="bell" size="30" />
                  <div class="info-right">
                    <p class="user-info">{{ item.startBy }}</p>
                    <p class="place">{{ item.processInstanceName }}</p>
                  </div>
                </van-cell>
    ```
    
    ![](https://s6.jpg.cm/2022/08/04/PdIhU4.jpg)

- **éŸ³ä¹æ’­æ”¾å™¨ç»„ä»¶çš„ç¼–å†™**
  
  - æˆ‘ä»¬é¡¹ç›®è€ƒè™‘åˆ°ç”¨æˆ·ä¸Šä¼ æ–‡ä»¶ä¸­åŒ…å«éŸ³é¢‘ç±»æ–‡ä»¶ï¼Œé‚£ä¹ˆå¯¹äºè¿™ç±»æ–‡ä»¶å¦‚æœéœ€è¦åœ¨çº¿é¢„è§ˆå°±éœ€è¦å»å•ç‹¬ç¼–å†™ç»„ä»¶å»è¯»å–æ•°æ®ã€‚
  
  - æ‰€ä»¥åœ¨ç¼–å†™éŸ³ä¹æ’­æ”¾å™¨ç»„ä»¶çš„æ—¶å€™éœ€è¦è€ƒè™‘å‡ ç‚¹ï¼ŒéŸ³é¢‘æ–‡ä»¶çš„æ’­æ”¾è¿›åº¦å›è°ƒï¼Œæ’­æ”¾é€Ÿåº¦ï¼Œè¿›åº¦æ¡æ˜¾ç¤ºç­‰å› ç´ ï¼Œéœ€è¦ç›‘å¬å½“å‰æ’­æ”¾çš„éŸ³é¢‘æ–‡ä»¶çš„çŠ¶æ€ä¿¡æ¯ï¼Œä¾‹å¦‚æš‚åœæ’­æ”¾ã€è¿›åº¦æ¡æ‹–åŠ¨ã€é‡æ–°æ’­æ”¾ç­‰çŠ¶æ€å˜åŒ–
  
  - ```typescript
    watch: {
        // ç›‘å¬vuexä¸­çš„å½“å‰éŸ³é¢‘æ’­æ”¾ä¿¡æ¯
        async "$store.state.currentMusicInfo"(current) {
          this.currentMusicInfo = current;
          if (this.$store.state.isMusicPlayerShow) {
            this.$store.state.isMusicPlayerShow = false;
            this.getAudioUrl();
            await this.$store.commit("updateIsMusicPlayerShow", true);
          }
        },
    
        // ç›‘å¬å½“å‰éŸ³é¢‘æ’­æ”¾çŠ¶æ€
        "$store.state.musicPlayState"(current) {
          // å¦‚æœä¸ç›¸åŒ è¯´æ˜åœ¨ç»„ä»¶ä¹‹å¤–æœ‰åœ°æ–¹æ”¹å˜äº†æ’­æ”¾çŠ¶æ€ï¼Œéœ€è¦å°†æ’­æ”¾çŠ¶æ€æ›´æ–°è‡³æ­¤ç»„ä»¶
          if (current != this.playState) {
            this.playState = current;
            if (current) {
              this.$refs.currentMusicPlayer.play();
            } else {
              this.$refs.currentMusicPlayer.pause();
            }
          }
        },
      },
      filters: {
        handleTime,
      },
      mounted() {},
    };
    </script>
    ```
    
    æœ€ç»ˆå³å¯åšå‡ºä¸€ä¸ªç®€æ˜“çš„è§†é¢‘æ’­æ”¾å™¨ç»„ä»¶ï¼š
    
    ![](https://s6.jpg.cm/2022/08/04/PdqMTH.png)

- **vue-routerä¸­queryå‚æ•°åšè‡ªåŠ¨åŠ å¯†ã€è§£å¯†**
  
  - åŠ å¯†éœ€è¦ä¾èµ– `crypto-js` åº“ï¼Œå®‰è£…ï¼š
  
  - ```bash
    npm install crypto-js --save
    ```
    
    1. å°†`utils`æ–‡ä»¶å¤¹æ”¾å…¥é¡¹ç›® **ï¼ˆæœ€å¥½æ˜¯æ”¾åœ¨routerç›®å½•ä¸‹ ï¼‰** ä¸­ï¼Œåœ¨routerçš„åˆå§‹åŒ–æ–‡ä»¶ä¸­ï¼Œå¼•å…¥`utils/query.js`çš„`stringifyQuery`å’Œ`parseQuery`æ–¹æ³•ï¼Œåœ¨`new VueRouter`æ˜¯æ—¶å€™ä¼ é€’å‚æ•°ï¼Œ
    2. ä¿®æ”¹`utils/encryption.js`ä¸­çš„`baseCryptoCode`è®¾ç½®æ¯ä¸ªé¡¹ç›®å”¯ä¸€çš„å€¼
    
    ```typescript
    import Vue from "vue"
    import VueRouter from "vue-router";
    import { stringifyQuery, parseQuery } from "./utils/query";
    
    Vue.use(VueRouter);
    
    const routes = [];
    
    const router = new VueRouter({
      mode: 'history',
      base: process.env.BASE_URL,
      stringifyQuery: stringifyQuery, // åºåˆ—åŒ–queryå‚æ•°
      parseQuery: parseQuery, // ååºåˆ—åŒ–queryå‚æ•°
      routes
    });
    
    export default router
    ```
    
    - tils/encryption.js
      
      æ–‡ä»¶æä¾›åŠ å¯†å’Œè§£å¯†ç®—æ³•ï¼ˆé»˜è®¤åœ¨index.htmlä¸­å·²ç»å¼•å…¥äº†crypto-js.jsï¼‰
      
      - getEncrypt åŠ å¯† å¯¹åº”çš„è§£å¯†æ–¹æ³•ï¼ˆgetDecryptï¼‰
      - getEncryptToBase64 åŠ å¯†åè½¬base64 å¯¹åº”çš„è§£å¯†æ–¹æ³•ï¼ˆgetDecryptByBase64ï¼‰
      - getDecrypt è§£å¯† å¯¹åº”çš„åŠ å¯†æ–¹æ³•ï¼ˆgetEncryptï¼‰
      - getDecryptByBase64 å¯¹base64æ•°æ®è§£å¯† å…ˆè§£æbase64ï¼Œåœ¨åšè§£å¯† å¯¹åº”çš„åŠ å¯†æ–¹æ³•ï¼ˆgetEncryptToBase64ï¼‰
    
    - utils/query.js
      
      æ–‡ä»¶æä¾›äº†åºåˆ—åŒ–å’Œååºåˆ—åŒ–çš„æ–¹æ³•
      
      - stringifyQuery åºåˆ—åŒ–å¯¹è±¡å¹¶ åŠ å¯†
      - parseQuery è§£å¯† ååºåˆ—åŒ–å¯¹è±¡
    
    ååºåˆ—åŒ–
    
    åœ¨è°ƒç”¨`push`çš„æ—¶å€™ï¼Œä¼šæ‰§è¡Œ`this.router.match`æ–¹æ³•ï¼Œ`match`æ–¹æ³•ä¼šæ‰§è¡Œ`normalizeLocation`
    
    `normalizeLocation`é€šè¿‡`resolveQuery`æ–¹æ³•è§£æpathä¸­çš„queryï¼Œä¼ å…¥çš„ä¸‰ä¸ªå‚æ•°ï¼ˆpathä¸­çš„?ä¹‹åçš„å‚æ•°æ•°æ®å­—ç¬¦ä¸²ï¼Œä½¿ç”¨pushæˆ–replaceæ–¹æ³•ä¼ é€’çš„queryå‚æ•°ï¼Œååºåˆ—åŒ–å‚æ•°çš„æ–¹æ³•ï¼‰
    
    ååºåˆ—åŒ–æ–¹æ³•ä¼šé€šè¿‡`router && router.options.parseQuery`è·å–ï¼Œå¦‚æœåœ¨`new VueRouter`çš„æ—¶å€™ä¼ é€’äº†`parseQuery`æ–¹æ³•ï¼Œå°±æ˜¯ç”¨è¯¥æ–¹æ³•ï¼Œå¦‚æœæ²¡æœ‰å°±åœ¨`resolveQuery`æ–¹æ³•ä¸­ä½¿ç”¨é»˜è®¤çš„æ–¹æ³•
    
    ```typescript
    export function normalizeLocation (
      raw: RawLocation,
      current: ?Route,
      append: ?boolean,
      router: ?VueRouter
    ): Location {
      let next: Location = typeof raw === 'string' ? { path: raw } : raw
      // named target
      if (next._normalized) {
        return next
      } else if (next.name) {
        next = extend({}, raw)
        const params = next.params
        if (params && typeof params === 'object') {
          next.params = extend({}, params)
        }
        return next
      }
    
      // relative params
      if (!next.path && next.params && current) {
        next = extend({}, next)
        next._normalized = true
        const params: any = extend(extend({}, current.params), next.params)
        if (current.name) {
          next.name = current.name
          next.params = params
        } else if (current.matched.length) {
          const rawPath = current.matched[current.matched.length - 1].path
          next.path = fillParams(rawPath, params, `path ${current.path}`)
        } else if (process.env.NODE_ENV !== 'production') {
          warn(false, `relative params navigation requires a current route.`)
        }
        return next
      }
    
      const parsedPath = parsePath(next.path || '')
      const basePath = (current && current.path) || '/'
      const path = parsedPath.path
      ? resolvePath(parsedPath.path, basePath, append || next.append)
      : basePath
    
      const query = resolveQuery(
        parsedPath.query,
        next.query,
        router && router.options.parseQuery
      )
    
      let hash = next.hash || parsedPath.hash
      if (hash && hash.charAt(0) !== '#') {
        hash = `#${hash}`
      }
    
      return {
        _normalized: true,
        path,
        query,
        hash
      }
    }
    ```

### åç«¯å¼€å‘

- **æ–‡ä»¶ä¸Šä¼ ã€ä¸‹è½½ã€åˆ é™¤æ¥å£å‡½æ•°ç¼–å†™æ€»ç»“**
  
  - æ–‡ä»¶çš„ä¸Šä¼ ä¸‹è½½ç­‰å€Ÿå£ï¼Œä½¿ç”¨æœ€å¤šçš„ä¸¤ä¸ªç±»Fileä»¥åŠMultipartFileç±»
  
  - **Fileç±»**
    
    ```java
    // æ–‡ä»¶ç³»ç»Ÿå¯¹è±¡
    // åé¢å¾ˆå¤šæ–¹æ³•ä¹Ÿç”¨åˆ°äº†æ–‡ä»¶ç³»ç»Ÿç±»çš„æ–¹æ³•ï¼Œæ¯”å¦‚ç³»ç»Ÿåˆ›å»ºæ–‡ä»¶çš„æ—¶é—´ç­‰ï¼Œè¿™é‡Œç®€ç§°fsï¼Œåé¢å¤šå¤„éƒ½ç”¨åˆ°äº†
    private static final FileSystem fs = DefaultFileSystem.getFileSystem();
    
    // è·¯å¾„å
    private final String path;
    
    // æšä¸¾ç±»å‹
    // fileç±»å¯¹è±¡çš„åœ°å€æ˜¯å¦åˆæ³•é€šè¿‡æšä¸¾ç±»åˆ¤å®š
    private static enum PathStatus { INVALID, CHECKED };
    
    // æ–‡ä»¶è·¯å¾„æ˜¯å¦æœ‰æ•ˆ
    private transient PathStatus status = null;
    // æ£€æŸ¥è·¯å¾„æ˜¯å¦æœ‰æ•ˆ ä½†åªæ¶‰åŠnulå­—ç¬¦ï¼Œtrueç»å¯¹æ— æ•ˆï¼Œfalseä¸ä¸€å®šæœ‰æ•ˆ
    final boolean isInvalid() {
        if (status == null) {
            status = (this.path.indexOf('\u0000') < 0) ? PathStatus.CHECKED
                                                       : PathStatus.INVALID;
        }
        return status == PathStatus.INVALID;
    }
    
    // è·¯å¾„åå‰ç¼€é•¿åº¦
    private final transient int prefixLength;
    int getPrefixLength() {
        return prefixLength;
    }
    
    // ä¾èµ–ç³»ç»Ÿåˆ†éš”ç¬¦
    public static final char separatorChar = fs.getSeparator();
    // å°†å…¶è½¬æ¢ä¸ºå­—ç¬¦ä¸²è¡¨ç¤º
    public static final String separator = "" + separatorChar;
    ```
    
    | å‡½æ•°                                       | æè¿°                     |
    | ---------------------------------------- | ---------------------- |
    | public File(String pathname)             | åˆ›å»ºè·¯å¾„åå®ä¾‹                |
    | public File(String parent, String child) | çˆ¶+å­è·¯å¾„ åˆ›å»ºå®ä¾‹             |
    | public File(URI uri)                     | æ ¹æ®URI è·¯å¾„åˆ›å»ºä¸€ä¸ªæ–°çš„ File å®ä¾‹ |
  
  - **MultipartFileç±»**
    
    è¯¥æ¥å£æœ‰å¤šä¸ªæ–¹æ³•å±æ€§
    
    | å‚æ•°                    | æè¿°     |
    | --------------------- | ------ |
    | getName()             | æ–‡ä»¶æ ¼å¼   |
    | getOriginalFilename() | æ–‡ä»¶å    |
    | getContentType        | æ–‡ä»¶ç±»å‹   |
    | isEmpty()             | æ–‡ä»¶æ˜¯å¦ä¸ºç©º |
    | getSize()             | æ–‡ä»¶å¤§å°   |
  
  ```java
  @Override
      public List<File> getCurFiles(String dir,String id) {
          QueryWrapper<File> wrapper=new QueryWrapper<>();
          wrapper.eq("f_dir",dir);
          wrapper.eq("mem_id",id);
          //File files = baseMapper.selectById(wrapper);
          List<File> files = baseMapper.selectList(wrapper);
          return files;
      }
  
      @Override
      public File getFiles(String id) {
          QueryWrapper<File> wrapper=new QueryWrapper<>();
          wrapper.eq("id",id);
          File file = baseMapper.selectOne(wrapper);
          return file;
      }
  
      @Override
      public List<File> getFindFile(String memid,String name) {
          QueryWrapper<File> wrapper=new QueryWrapper<>();
          wrapper.eq("mem_id",memid);
          wrapper.like("name",name);
          List<File> fileList = baseMapper.selectList(wrapper);
          return fileList;
      }
  ```

- **å¯¹ç”¨æˆ·å£ä»¤ä¿¡æ¯åŠ å¯†å­˜å‚¨**
  
  **ä½¿ç”¨MD5åŠ å¯†æ¥å®Œæˆç™»å½•æ³¨å†Œçš„éªŒè¯**
  
  MD5åŠ å¯†å…¨ç¨‹æ˜¯Message-Digest Algoorithm 5ï¼ˆä¿¡æ¯-æ‘˜è¦ç®—æ³•ï¼‰ï¼Œå®ƒå¯¹ä¿¡æ¯è¿›è¡Œæ‘˜è¦é‡‡é›†ï¼Œå†é€šè¿‡ä¸€å®šçš„ä½è¿ç®—ï¼Œæœ€ç»ˆè·å–åŠ å¯†åçš„MD5å­—ç¬¦ä¸²ã€‚
  
  MD5åŠ å¯†çš„ç‰¹ç‚¹ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç‚¹ï¼š
  
  1ã€é’ˆå¯¹ä¸åŒé•¿åº¦å¾…åŠ å¯†çš„æ•°æ®ã€å­—ç¬¦ä¸²ç­‰ç­‰ï¼Œå…¶éƒ½å¯ä»¥è¿”å›ä¸€ä¸ªå›ºå®šé•¿åº¦çš„MD5åŠ å¯†å­—ç¬¦ä¸²ã€‚ï¼ˆé€šå¸¸32ä½çš„16è¿›åˆ¶å­—ç¬¦ä¸²ï¼‰
  2ã€å…¶åŠ å¯†è¿‡ç¨‹å‡ ä¹ä¸å¯é€†ï¼Œé™¤éç»´æŠ¤ä¸€ä¸ªåºå¤§çš„Key-Valueæ•°æ®åº“æ¥è¿›è¡Œç¢°æ’ç ´è§£ï¼Œå¦åˆ™å‡ ä¹æ— æ³•è§£å¼€ã€‚
  3ã€è¿ç®—ç®€ä¾¿ï¼Œä¸”å¯å®ç°æ–¹å¼å¤šæ ·ï¼Œé€šè¿‡ä¸€å®šçš„å¤„ç†æ–¹å¼ä¹Ÿå¯ä»¥é¿å…ç¢°æ’ç®—æ³•çš„ç ´è§£ã€‚
  4ã€å¯¹äºä¸€ä¸ªå›ºå®šçš„å­—ç¬¦ä¸²ã€‚æ•°å­—ç­‰ç­‰ï¼ŒMD5åŠ å¯†åçš„å­—ç¬¦ä¸²æ˜¯å›ºå®šçš„ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸ç®¡MD5åŠ å¯†å¤šå°‘æ¬¡ï¼Œéƒ½æ˜¯åŒæ ·çš„ç»“æœã€‚
  
  ```java
  //åˆ¤æ–­å¯†ç 
          //å› ä¸ºå­˜å‚¨åˆ°æ•°æ®åº“å¯†ç è‚¯å®šåŠ å¯†çš„
          //æŠŠè¾“å…¥çš„å¯†ç è¿›è¡ŒåŠ å¯†ï¼Œå†å’Œæ•°æ®åº“å¯†ç è¿›è¡Œæ¯”è¾ƒ
          //åŠ å¯†æ–¹å¼ MD5
          if (!MD5.encrypt(password).equals(mobileMember.getPassword())) {
              throw new SpaceException(20001, "ç™»å½•å¤±è´¥");
          }
          //ç™»å½•æˆåŠŸ
          //ç”Ÿæˆtokenå­—ç¬¦ä¸²ï¼Œä½¿ç”¨jwtå·¥å…·ç±»
          String jwtToken = JwtUtils.getJwtToken(mobileMember.getId(), mobileMember.getNickname());
          QueryWrapper<UcenterMember> wrapper1=new QueryWrapper<>();
          wrapper1.eq("mobile",member.getMobile());
          UcenterMember ucenterMember = baseMapper.selectOne(wrapper1);
          return jwtToken;
      }
  ```

- **å¯¹ä¸Šä¼ æ–‡ä»¶å¤§å°è¿›è¡Œé™åˆ¶**
  
  - ä¸€èˆ¬çš„webç³»ç»ŸåŸºæœ¬éƒ½ä¼šæœ‰æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½ï¼Œæ–‡ä»¶ä¸Šä¼ å¿…ç„¶æ¶‰åŠåˆ°ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯æ–‡ä»¶å¤§å°ï¼Œå¤ªå¤§çš„æ–‡ä»¶ä¸ä»…ä¼ è¾“é€Ÿåº¦æ…¢ï¼Œè€Œä¸”å¯¹æœåŠ¡å™¨å‹åŠ›å·¨å¤§ï¼ŒåæœŸçš„ä¸‹è½½å’Œä¿å­˜éƒ½æ˜¯ä¸€ç§è€ƒéªŒã€‚
  
  - æ‰€ä»¥æœ‰äº†æ–‡ä»¶å¤§å°é™åˆ¶ï¼Œä¸€èˆ¬æˆ‘ä»¬åœ¨å¤„ç†ä¸Šä¼ çš„æ¥å£æ—¶ï¼Œå…¶å®å°±å¯ä»¥åˆ¤æ–­æ–‡ä»¶å¤§å°ï¼Œè¿™æ—¶å€™åšä¸€ä¸ªå¤§å°åˆ¤æ–­ï¼Œä¸ç¬¦åˆè¦æ±‚ï¼Œç›´æ¥ä¸ä¿å­˜æ–‡ä»¶ï¼Œå¹¶è¿”å›å‰ç«¯ç›¸å…³æç¤ºã€‚è¿™ç§åšæ³•æœ‰ä¸€ä¸ªä¸å¥½çš„åœ°æ–¹ï¼Œå°±æ˜¯å¦‚æœä¸Šä¼ æ–¹æ³•é‡è½½ï¼Œæˆ–è€…ä½¿ç”¨çš„åœ°æ–¹ä¸ä¸€æ ·ï¼Œé‚£ä¹ˆæ¯ä¸ªæ–¹æ³•éƒ½éœ€è¦åšè¿™æ ·çš„å¤§å°é™åˆ¶åˆ¤æ–­ã€‚
  
  - springbootä½¿ç”¨MultipartFileä¸Šä¼ ï¼Œå¯ä»¥å¯¹æ–‡ä»¶ä¸Šä¼ å¤§å°åšé™åˆ¶ã€‚ç›´æ¥é…ç½®å¦‚ä¸‹æ‰€ç¤ºï¼š
    
    ```java
    spring.servlet.multipart.enabled=true
    spring.servlet.multipart.max-file-size=50MB
    spring.servlet.multipart.max-request-size=50MB
    ```
  
  - è¿™ç§è®¾ç½®ï¼Œå¦‚æœä¸åšé¢å¤–çš„å¤„ç†ï¼Œçš„ç¡®å¯ä»¥èµ·åˆ°ä½œç”¨ï¼Œä½†æ˜¯å¦‚æœä½ è°ƒç”¨ä¸Šä¼ æ¥å£ï¼Œä¸Šä¼ è¿‡å¤§æ–‡ä»¶ï¼Œè¿”å›çš„ç»“æœå¯èƒ½å¦‚ä¸‹æ‰€ç¤ºï¼š
    
    ```java
    {
        "timestamp": "2022-07-28T06:39:28.820+00:00",
        "status": 500,
        "error": "Internal Server Error",
        "path": "/test/upload"
    }
    ```
  
  - è¿™ä¸ªæ˜¯springbooté€šè¿‡æ‹¦æˆªå™¨åšå‡ºçš„è¿”å›ï¼Œè€Œä¸”åå°è¿˜ä¼šæ‰“å°å¼‚å¸¸ä¿¡æ¯ã€‚æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬å¸Œæœ›æˆ‘ä»¬çš„è¿”å›ä¿¡æ¯è·Ÿæˆ‘ä»¬å…¶ä»–çš„ä¸šåŠ¡é€»è¾‘è¿”å›ä¸€æ ·ï¼Œå°±éœ€è¦è‡ªå®šä¹‰ä¸€ä¸ªè¿”å›ã€‚åšæ³•å¾ˆç®€å•ï¼Œè‡ªå®šä¹‰ä¸€ä¸ªBaseControllerï¼Œç„¶åè®©ä¸Šä¼ çš„Controlleræ¥ç»§æ‰¿è¿™ä¸ªç±»å³å¯ã€‚
    
    ```java
    package com.example.undertowtest.web;
    
    import io.undertow.server.handlers.form.MultiPartParserDefinition;
    import org.springframework.web.bind.annotation.ControllerAdvice;
    import org.springframework.web.bind.annotation.ExceptionHandler;
    import org.springframework.web.bind.annotation.ResponseBody;
    import org.springframework.web.multipart.MultipartException;
    
    import java.util.HashMap;
    import java.util.Map;
    
    @ControllerAdvice
    public class BaseController {
    ```

        @ResponseBody
        @ExceptionHandler(value = MultipartException.class)
        public Object fileUploadExceptionHandler(MultipartException exception){
            Map<String,Object> map = new HashMap<>();
            map.put("code",500);
            Throwable rootCause = exception.getRootCause();
            if(rootCause instanceof MultiPartParserDefinition.FileTooLargeException){
                map.put("msg","æ–‡ä»¶å¤ªå¤§");
            }
            return map;
        }
    }
    ```

- **spring bootåç«¯è§£å†³è·¨åŸŸé—®é¢˜çš„å‡ ç§æ–¹æ³•**
  
  - **1.ä½¿ç”¨æ³¨è§£** 
    
    åœ¨controller ç±»ä¸ŠåŠ ä¸Š@CrossOriginæ³¨è§£ï¼Œå°±èƒ½å¯¹è¯¥ç±»ä¸‹çš„æ¥å£è¿›è¡Œè·¨åŸŸè®¿é—®ï¼Œä»è€Œè§£å†³è·¨åŸŸé—®é¢˜ï¼Œä½†æ˜¯è¿™ä¸­æ–¹æ³•åœ¨æ¥å£æ¯”è¾ƒå¤šçš„æƒ…å†µä¸‹æ˜¯æ¯”è¾ƒç¹ççš„ï¼Œéœ€è¦åŒæ—¶æ”¹åŠ¨å¤šä¸ªæ–‡ä»¶æ‰èƒ½å®ç°
  
  - **2.é‡å†™`addCorsMappings`æ–¹æ³•**
    
    ![](https://s6.jpg.cm/2022/08/04/PdnhbQ.png)
    
    ```java
    @Configuration
    @EnableSwagger2
    public class SwaggerConfig {
    
        @Bean
        public Docket webApiConfig() {
            return new Docket(DocumentationType.SWAGGER_2)
                    .groupName("webApi")
                    .apiInfo(webApiInfo())
                    .select()
                    //.paths(Predicates.not(PathSelectors.regex("/admin/.*")))
                    .paths(Predicates.not(PathSelectors.regex("/error.*")))
                    .build();
    ```

### ç½‘ç«™éƒ¨ç½²å’Œç›¸å…³äº‘æœåŠ¡æŠ€æœ¯ä½¿ç”¨

åœ¨å®Œæˆä»¥ä¸Šå‰åç«¯æ•´ä½“å¼€å‘åï¼Œå°±éœ€è¦å°†å…¨éƒ¨æ–‡ä»¶æ•°æ®æ‰“åŒ…éƒ¨ç½²åˆ°çº¿ä¸Šï¼Œæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯é˜¿é‡Œäº‘çš„æœåŠ¡ï¼ŒåŒ…æ‹¬OSSå¯¹åƒå­˜å‚¨ç”¨äºæ–‡ä»¶å­˜å‚¨ï¼ŒECSäº‘æœåŠ¡å™¨éƒ¨ç½²ç½‘ç«™ï¼Œé˜¿é‡Œçš„ä¿¡æ¯éªŒè¯ç æœåŠ¡ï¼ŒåŸŸåç»‘å®šã€‚è¿™ä¹Ÿæ˜¯æˆ‘ä¹‹å‰æ²¡æœ‰æ¥è§¦è¿‡çš„åœ°æ–¹ï¼Œæ‰€ä»¥åœ¨æ•´ä¸ªéƒ¨ç½²è¿‡ç¨‹ä¸­ä¹ŸèŠ±è´¹äº†å¤§é‡çš„æ—¶é—´æˆæœ¬å»å­¦ä¹ å’Œå®è·µï¼Œè™½ç„¶æœ€åæœ‰éƒ¨åˆ†æœåŠ¡çš„ä½¿ç”¨è¿˜å­˜åœ¨é™åˆ¶ï¼Œä½†æ•´ä½“å·²å®Œæˆå…¨éƒ¨éƒ¨ç½²ï¼Œä¹Ÿç®—æ˜¯ä»å¤´åˆ°å°¾æµ…å°äº†ä¸€éé˜¿é‡Œçš„äº‘æœåŠ¡ä¸€æ¡é¾™å§ï¼ğŸ˜‹

#### æœåŠ¡å™¨å®‰è£…Nginx

Nginxæ˜¯ä¸€æ¬¾è½»é‡çº§çš„WebæœåŠ¡å™¨ã€åå‘ä»£ç†æœåŠ¡å™¨ï¼Œç”±äºå®ƒçš„å†…å­˜å ç”¨å°‘ï¼Œå¯åŠ¨æå¿«ï¼Œé«˜å¹¶å‘èƒ½åŠ›å¼ºï¼Œåœ¨äº’è”ç½‘é¡¹ç›®ä¸­å¹¿æ³›åº”ç”¨ï¼Œæˆ‘ä»¬çš„ç½‘ç«™éƒ¨ç½²åˆ°NginxæœåŠ¡å™¨ä¸Šã€‚å½“ç„¶ä¹Ÿå¯ä»¥é€‰æ‹©å…¶å®ƒwebæœåŠ¡å™¨ï¼Œè¿™é‡Œæˆ‘ä»¬å°±ä½¿ç”¨ä¸»æµçš„Nginxã€‚

æˆ‘åœ¨é˜¿é‡Œäº‘è´­ä¹°äº†ECSæœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨æ˜¯Centosç³»ç»Ÿï¼Œæ•…å·²Centosä¸ºä¾‹ã€‚

##### <img src="https://s6.jpg.cm/2022/08/04/PdLDmr.png" style="zoom:50%;" />

å®‰è£…nginxç›¸å…³æœåŠ¡ï¼š

```bash
yum install -y nginx
```

æŸ¥çœ‹nginxå®‰è£…ç›®å½•ï¼š

```bash
whereis nginx
```

æˆ–è€…ä½¿ç”¨å‘½ä»¤æŸ¥çœ‹nginxç‰ˆæœ¬å·ï¼Œå‡ºç°ç‰ˆæœ¬å·ä¹Ÿä»£è¡¨å®‰è£…æˆåŠŸã€‚

è¾“å…¥å‘½ä»¤ï¼š

```bash
nginx -v
```

ä¿®æ”¹nginxé…ç½®

æ­¤æ—¶/etc/nginxåˆ™æ˜¯nginxé…ç½®æ–‡ä»¶å­˜æ”¾ä½ç½®ï¼Œè¿›å…¥è¯¥æ–‡ä»¶å¤¹ï¼š

<img src="https://s6.jpg.cm/2022/08/04/PdPQTp.png" style="zoom:50%;" />

ä¸Šé¢ç•Œé¢æˆ‘ä»¬åŸºæœ¬ä¸Šä¸ç”¨æ”¹ä»€ä¹ˆï¼Œé‡è¦çš„æ˜¯serverè¿™ä¸ªå¯¹è±¡ï¼Œå¯ä»¥çœ‹åˆ°é»˜è®¤ç›‘å¬çš„æ˜¯80ç«¯å£ï¼Œæ‰€ä»¥æˆ‘ä»¬ç›´æ¥è®¿é—®æœåŠ¡å™¨ipå³å¯ã€‚

æ­¤æ—¶è®¿é—®æ—¶åˆ™éœ€è¦å¸¦ä¸Šç«¯å£å·ï¼ˆéœ€è¦æœåŠ¡å™¨å®‰å…¨ç»„å¼€å¯8080ç«¯å£ï¼‰

æ­¤æ—¶æŒ‰ç…§å®˜æ–¹æ–‡æ¡£é…ç½®å¥½æœåŠ¡å™¨å®ä¾‹çš„å®‰å…¨ç»„å¹¶å¯åŠ¨ï¼š

<img src="https://s6.jpg.cm/2022/08/04/PdPed6.png" style="zoom:50%;" />

â€‹    æ–°å»ºç½‘ç«™æ–‡ä»¶å¤¹

â€‹    è®¾ç½®äº†ç½‘ç«™å­˜æ”¾çš„æ–‡ä»¶å¤¹è·¯å¾„ä¸ºï¼š

```bash
/home/www/dist
```

æ­¤æ—¶æˆ‘ä»¬éœ€è¦åœ¨æœåŠ¡å™¨ä¸Šæ–°å»ºwwwæ–‡ä»¶å¤¹ï¼š

```bash
cd /home
mkdir www
```

æ­¤å¤„æˆ‘ä»¬è¿˜æ²¡æœ‰æ–°å»º`dist`æ–‡ä»¶å¤¹ï¼Œå› ä¸ºæˆ‘ä»¬è¿˜æ²¡æœ‰æŠŠvueé¡¹ç›®æ‰“åŒ…ï¼Œæ‰“åŒ…åæ‰ä¼šç”Ÿæˆ`dist`æ–‡ä»¶å¤¹ã€‚

#### æ‰“åŒ…éƒ¨ç½²vueé¡¹ç›®

æ‰“åŒ…ç½‘ç«™

ä½¿ç”¨vueæ‰“åŒ…å‘½ä»¤,ç”Ÿæˆdistæ–‡ä»¶å¤¹ï¼š

```powershell
npm run build
```

<img src="https://s6.jpg.cm/2022/08/04/PdPlYT.png" style="zoom: 33%;" />

<img src="https://s6.jpg.cm/2022/08/04/PdPbA2.png" style="zoom:33%;" />

â€‹    ä¸Šä¼ è‡³æœåŠ¡å™¨

â€‹    æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ftpå·¥å…·å°†distæ–‡ä»¶å¤¹ä¸Šä¼ è‡³/home/wwwç›®å½•ä¸‹ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨å‘½ä»¤ï¼š

```
scp -r dist/ root@119.23.64.32:/home/www
```

åœ¨æˆ‘ä»¬çš„é¡¹ç›®ç›®å½•ä¸‹ç”¨æ‰“å¼€gitå‘½ä»¤è¡Œï¼Œå°†æœ¬åœ°çš„distæ•´ä¸ªæ–‡ä»¶å¤¹å¤åˆ¶åˆ°æœåŠ¡å™¨ï¼Œéœ€è¦ä¸»è¦çš„æ—¶scpå‘½ä»¤windowä¸æ”¯æŒï¼Œæ‰€ä»¥ä½¿ç”¨äº†gitå‘½ä»¤è¡Œå·¥å…·ã€‚

æ­¤æ—¶æ— éœ€é‡å¯nginxï¼Œåˆ·æ–°æµè§ˆå™¨ï¼Œå¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„ç½‘ç«™å·²ç»éƒ¨ç½²æˆåŠŸäº†ã€‚

<img src="https://s6.jpg.cm/2022/08/04/PdPNCO.png" style="zoom: 33%;" />

#### è§£å†³åˆ·æ–°è·¯ç”±404é—®é¢˜

å½“æˆ‘ä»¬åˆ‡æ¢è·¯ç”±åï¼Œç„¶ååœ¨åˆ·æ–°é¡µé¢ï¼Œä¼šå‡ºç°404çš„æƒ…å†µã€‚

è¿™æ˜¯å› ä¸ºæˆ‘ä»¬vueé¡¹ç›®é‡‡ç”¨äº†historyçš„è·¯ç”±æ–¹å¼ï¼Œè‡³äºåŸå› ä¸»è¦æ˜¯vueæ˜¯å•é¡µé¢åº”ç”¨,è·¯ç”±çš„åˆ‡æ¢ä¼šç”±äºé‡å¤è°ƒç”¨åˆ¤å®šå¤±æ•ˆã€‚

è§£å†³é—®é¢˜çš„åŠæ³•ï¼š

ï¼ˆ1ï¼‰å°†è·¯ç”±æ¨¡å¼æ”¹ä¸ºhash

ï¼ˆ2ï¼‰ä¿®æ”¹nginxé…ç½®ï¼š

```powershell
location / {
  try_files $uri $uri/ /index.html; ---è§£å†³é¡µé¢åˆ·æ–°404é—®é¢˜
}ã€€
```

å†æ¬¡é‡å¯å³å¯è§£å†³404é—®é¢˜

#### åç«¯SpringBootæ¡†æ¶æ‰“åŒ…éƒ¨ç½²

- SpringBooté¡¹ç›®æˆ‘ä»¬æœ¬æ¬¡ä½¿ç”¨çš„æ˜¯Mavené›†æˆéƒ¨ç½²ï¼Œå…¶ä¸­éœ€è¦åŠ å…¥ç›¸å…³çš„pluginsä¿¡æ¯ï¼Œå¦‚ä¸‹ï¼š
  
  - ```typescript
    <build>
        <plugins>
            <plugin>
                <groupId>org.springframework.boot</groupId>
                <artifactId>spring-boot-maven-plugin</artifactId>
                <configuration>
                    <fork>true</fork>
                </configuration>
            </plugin>
        </plugins>
    </build>
    ```
    
    åŠ å…¥äº†ä¸Šè¿°ä¿¡æ¯è‡³pomæ–‡ä»¶ä¸­
    
    åœ¨å¯åŠ¨ç±»åŠ ä¸Š`extends SpringBootServletInitializer`å¹¶é‡å†™`configure`æ–¹æ³•ã€‚
    
    ```java
    @SpringBootApplication
    @ComponentScan(basePackages = {"com.chen"})
    @MapperScan("com.chen.service.mapper")
    public class AllApplication {
        public static void main(String[] args) {
            SpringApplication.run(AllApplication.class, args);
        }
    }
    ```
    
    å°±å¯ä»¥è¿›è¡Œåˆæ­¥æ‰“åŒ…äº†ï¼Œå¯ä»¥åœ¨Mavenä¿¡æ¯æ¡†ä¸­è¿›è¡Œæ‰§è¡Œå‘½ä»¤ï¼š
    
    ```java
    mvn clean package
    ```
    
    æˆ‘ä»¬å°±å¯ä»¥åœ¨é¡¹ç›®çš„targetæ–‡ä»¶å¤¹ä¸‹å¾—åˆ°ä¸€ä¸ªjaråŒ…äº†
    
    ![](https://s6.jpg.cm/2022/08/04/PdP2GG.png)
    
    å†å°†æ‰“åŒ…å¥½çš„jaråŒ…éƒ¨ç½²åˆ°æœåŠ¡å™¨ç«¯ï¼Œæ‰§è¡Œå‘½ä»¤ï¼Œå³å¯å®Œæˆåç«¯éƒ¨ç½²ã€‚
    
    ```bash
    java -jar *.jar
    ```

#### åŸŸåDNSè§£ææœåŠ¡

æˆ‘ä»¬é¦–å…ˆåœ¨é˜¿é‡Œäº‘å¹³å°è´­ç½®äº†åŸŸåï¼š[cucinstall.cn](https://www.cucinstall.cn/)

å®Œæˆä¸ªäººä¿¡æ¯éªŒè¯åï¼Œè¿›å…¥DNSè§£æå·¥ä½œå°é…ç½®åŸŸåè§£ææœåŠ¡ï¼Œå°†åŸŸåç»‘å®šåˆ°é¡¹ç›®çš„æœåŠ¡å™¨ipåœ°å€

![](https://s6.jpg.cm/2022/08/04/PdPMGS.png)

pingä¸€ä¸‹åŸŸåï¼ŒæŸ¥çœ‹è§£ææƒ…å†µæ˜¯å¦æ­£å¸¸

![](https://s6.jpg.cm/2022/08/04/PdPOcW.png)

#### SSLè¯ä¹¦ç”³è¯·å’Œä½¿ç”¨

æˆ‘ä»¬æœ¬æ¬¡ä½¿ç”¨äº†é˜¿é‡Œäº‘çš„SSLè¯ä¹¦ç­¾å‘ï¼Œé‡‡ç”¨çš„æ˜¯RSAç®—æ³•åŠ å¯†

![](https://s6.jpg.cm/2022/08/04/PdPZv2.png)

å†åœ¨åŸŸåæ§åˆ¶å°å¯¹åŸŸåè¿›è¡Œè¯ä¹¦ç»‘å®š

![](https://s6.jpg.cm/2022/08/04/PdREnT.png)

#### OSSå­˜å‚¨æ–‡ä»¶ä½¿ç”¨

é¦–å…ˆè¦å¼€é€šali-ossæœåŠ¡ï¼Œå¹¶è¿›è¡Œå¯¹åº”çš„é…ç½®ï¼Œè®¾ç«‹å¥½éœ€è¦çš„Bucketç”¨æ¥å­˜å‚¨æ–‡ä»¶

<img src="https://s6.jpg.cm/2022/08/04/Pdq4uz.png" style="zoom:50%;" />

è·å¾—å”¯ä¸€çš„çš„Accesskeyå’Œå¯¹åº”çš„å£ä»¤ï¼Œé…ç½®åœ¨æ•°æ®æ¥å£ä¸­ï¼Œå¹¶ä¸æ•°æ®åº“è¿›è¡ŒåŒæ­¥

```typescript
/** 
*  ä¸Šä¼ æ–‡ä»¶ï¼Œå¤§å°ä¸èƒ½è¶…è¿‡5GB 
* @param {string} ObjName OSSçš„å‚¨å­˜è·¯å¾„å’Œæ–‡ä»¶åå­— 
* @param {string} fileUrl æœ¬åœ°æ–‡ä»¶ 
* @retruns Promise 
*/
export const put = async (ObjName, fileUrl) => {  
  try {    
    let result = await client.put(`${ObjName}`, fileUrl)    
    // ObjNameä¸ºæ–‡ä»¶åå­—,å¯ä»¥åªå†™åå­—ï¼Œå°±ç›´æ¥å‚¨å­˜åœ¨ bucket çš„æ ¹è·¯å¾„ï¼Œå¦‚éœ€æ”¾åœ¨æ–‡ä»¶å¤¹ä¸‹é¢ç›´æ¥åœ¨æ–‡ä»¶åå‰é¢åŠ ä¸Šæ–‡ä»¶å¤¹åç§°    
    return result  
  } catch (e) {    
   console.log(e)  
  }
}

// ä¸Šä¼ æˆåŠŸä¹‹åï¼Œè½¬æ¢çœŸå®çš„åœ°å€
export const signatureUrl= async (ObjName) => {    
  try {        
    let result = await client.signatureUrl(`${ObjName}`)    
    return result  
  } catch (e) {    
    console.log(e)  
  }
}
```

![](https://s6.jpg.cm/2022/08/04/PdqBBu.png)

## æ€»ç»“åæ€

ä¸Šè¿°å¯¹äºæ•´ä¸ªé¡¹ç›®çš„å…·ä½“å†…å®¹è¿›è¡Œäº†ä¸€äº›å›é¡¾å’Œæ€»ç»“ï¼Œä½†åœ¨æ•´ä¸ªå¼€å‘æµç¨‹ä¸­ï¼Œæˆ‘ä»¬è¿˜å­˜åœ¨éƒ¨åˆ†æŠ€æœ¯ç»†èŠ‚å’Œé—®é¢˜æ²¡æœ‰è§£å†³ï¼Œæˆ‘ä»¬ä¹Ÿè¿›è¡Œäº†å¾ˆå¤šçš„æ”¹è¿›å’Œå°è¯•ï¼Œä½†æ˜¯æœ€ç»ˆå®ç°è¿˜å¾—éœ€è¦ä¸€äº›æ—¶é—´å»è¿›ä¸€æ­¥å­¦ä¹ å’Œå®è·µğŸ’¡ã€‚

- **çŸ­ä¿¡éªŒè¯ç æœåŠ¡**
  
  - æˆ‘çš„åˆæ­¥æƒ³æ³•æ˜¯é€šè¿‡æ‰‹æœºå·è¿›è¡Œä¿¡æ¯éªŒè¯ç çš„å‘é€æ¥å®Œæˆç”¨æˆ·ä¿¡æ¯çš„æ³¨å†Œï¼Œæˆ‘å¼€é€šäº†é˜¿é‡Œçš„çŸ­ä¿¡å‘é€æœåŠ¡ï¼ŒåŒæ—¶åç«¯æˆ‘ä¹Ÿå¯¹ç”¨æˆ·çš„éªŒè¯ç ä¿¡æ¯æœåŠ¡è¿›è¡Œäº†å‡½æ•°ç¼–å†™ã€‚
  
  - ```java
    public String login(UcenterMember member) {
            //è·å–ç™»å½•æ‰‹æœºå·å’Œå¯†ç 
            String mobile = member.getMobile();
            String password = member.getPassword();
            System.out.println(mobile + password);
            //æ‰‹æœºå·å’Œå¯†ç éç©ºåˆ¤æ–­
            if (StringUtils.isEmpty(mobile) || StringUtils.isEmpty(password)) {
                throw new SpaceException(20001, "ç™»å½•å¤±è´¥");
            }
            //åˆ¤æ–­æ‰‹æœºå·æ˜¯å¦æ­£ç¡®
            QueryWrapper<UcenterMember> wrapper = new QueryWrapper<>();
            wrapper.eq("mobile", mobile);
            UcenterMember mobileMember = baseMapper.selectOne(wrapper);
            //åˆ¤æ–­æŸ¥è¯¢å¯¹è±¡æ˜¯å¦ä¸ºç©º
            if (mobileMember == null) {//æ²¡æœ‰è¿™ä¸ªæ‰‹æœºå·
                throw new SpaceException(20001, "ç™»å½•å¤±è´¥");
            }
    ```
    
    å†å¯¹ç”¨æˆ·çš„æ‰‹æœºå·æ˜¯å¦é‡å¤ï¼ŒéªŒè¯ç çš„ä¿¡æ¯æ˜¯å¦åŒ¹é…è¿›è¡Œç­›é€‰ï¼š
    
    ```java
    public UcenterMember login1(UcenterMember member) {
            //è·å–ç™»å½•æ‰‹æœºå·å’Œå¯†ç 
            String mobile = member.getMobile();
            String password = member.getPassword();
            System.out.println(mobile + password);
            //æ‰‹æœºå·å’Œå¯†ç éç©ºåˆ¤æ–­
            if (StringUtils.isEmpty(mobile) || StringUtils.isEmpty(password)) {
                throw new SpaceException(20001, "æ‰‹æœºå·æˆ–å¯†ç ä¸ºç©ºï¼Œç™»å½•å¤±è´¥");
            }
            //åˆ¤æ–­æ‰‹æœºå·æ˜¯å¦æ­£ç¡®
            QueryWrapper<UcenterMember> wrapper = new QueryWrapper<>();
            wrapper.eq("mobile", mobile);
            UcenterMember mobileMember = baseMapper.selectOne(wrapper);
            //åˆ¤æ–­æŸ¥è¯¢å¯¹è±¡æ˜¯å¦ä¸ºç©º
            if (mobileMember == null) {//æ²¡æœ‰è¿™ä¸ªæ‰‹æœºå·
                throw new SpaceException(20001, "æœªæ³¨å†Œï¼Œç™»å½•å¤±è´¥");
            }
    
            //åˆ¤æ–­å¯†ç 
            //å› ä¸ºå­˜å‚¨åˆ°æ•°æ®åº“å¯†ç è‚¯å®šåŠ å¯†çš„
            //æŠŠè¾“å…¥çš„å¯†ç è¿›è¡ŒåŠ å¯†ï¼Œå†å’Œæ•°æ®åº“å¯†ç è¿›è¡Œæ¯”è¾ƒ
            //åŠ å¯†æ–¹å¼ MD5
            if (!MD5.encrypt(password).equals(mobileMember.getPassword())) {
                throw new SpaceException(20001, "ç™»å½•å¤±è´¥");
            }
            //ç™»å½•æˆåŠŸ
            //ç”Ÿæˆtokenå­—ç¬¦ä¸²ï¼Œä½¿ç”¨jwtå·¥å…·ç±»
            //String jwtToken = JwtUtils.getJwtToken(mobileMember.getId(), mobileMember.getNickname());
            QueryWrapper<UcenterMember> wrapper1=new QueryWrapper<>();
            wrapper1.eq("mobile",member.getMobile());
            UcenterMember ucenterMember = baseMapper.selectOne(wrapper1);
            return ucenterMember;
        }
        //æ³¨å†Œçš„æ–¹æ³•
        public void register(RegisterVo registerVo) {
            //è·å–æ³¨å†Œçš„æ•°æ®
            String code = registerVo.getCode(); //éªŒè¯ç 
            String mobile = registerVo.getMobile(); //æ‰‹æœºå·
            String nickname = registerVo.getNickname(); //æ˜µç§°
            String password = registerVo.getPassword(); //å¯†ç 
            String avatar=registerVo.getAvatar();//å¤´åƒ
            //éç©ºåˆ¤æ–­
            if (StringUtils.isEmpty(mobile) || StringUtils.isEmpty(password)
                    || StringUtils.isEmpty(code) || StringUtils.isEmpty(nickname)
                    ) {
                throw new SpaceException(20001, "ä¸èƒ½ä¸ºç©º");
            }
    //        åˆ¤æ–­éªŒè¯ç 
            String redisCode = "1234";
            System.out.println(redisCode);
            if (!code.equals(redisCode)) {
                throw new SpaceException(20001, "éªŒè¯ç é”™è¯¯");
            }
    ```

            //åˆ¤æ–­æ‰‹æœºå·æ˜¯å¦é‡å¤ï¼Œè¡¨é‡Œé¢å­˜åœ¨ç›¸åŒæ‰‹æœºå·ä¸è¿›è¡Œæ·»åŠ 
            QueryWrapper<UcenterMember> wrapper = new QueryWrapper<>();
            wrapper.eq("mobile", mobile);
            Integer count = baseMapper.selectCount(wrapper);
            if (count > 0) {
                throw new SpaceException(20001, "æ‰‹æœºå·å·²å­˜åœ¨ï¼Œæ³¨å†Œå¤±è´¥ï¼");
            }
            //æ•°æ®æ·»åŠ æ•°æ®åº“ä¸­
            UcenterMember member = new UcenterMember();
            member.setMobile(mobile);
            member.setNickname(nickname);
            member.setAvatar(avatar);
            member.setPassword(MD5.encrypt(password));//å¯†ç éœ€è¦åŠ å¯†çš„
            baseMapper.insert(member);
        }
    ```
    
    è™½ç„¶åœ¨æœ¬åœ°æµ‹è¯•æ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯é˜¿é‡Œçš„ä¿¡æ¯éªŒè¯æœåŠ¡è¦æ±‚å¿…é¡»æä¾›ç½‘ç«™æˆ–è€…AppIDï¼Œå¯¼è‡´æˆ‘æ— æ³•æ¨¡æ‹Ÿå‘é€éªŒè¯ç ï¼Œè¿™ä¸ªåœ°æ–¹å°è¯•äº†å¾ˆå¤šæ–¹æ¡ˆï¼Œåªèƒ½åœ¨æœ¬åœ°è·‘é€šï¼Œè€Œéƒ¨ç½²åˆ°çº¿ä¸Šï¼Œå› ä¸ºç½‘ç«™æœ¬èº«æ²¡æœ‰è·å¾—å¤‡æ¡ˆå·å’ŒIDï¼Œæ‰€ä»¥æœ€ç»ˆæ— æ³•å»å®ç°éªŒè¯ç ä¿¡æ¯å‘é€æœåŠ¡ï¼Œåªèƒ½åœ¨åç«¯çš„éªŒè¯ç è¾“å…¥æ¡†æŒ‡å®šè§„å®šæ•°å­—ï¼Œè¿™ç¡®å®å½±å“åˆ°äº†æ•´ä¸ªæ³¨å†Œæµç¨‹ï¼Œè¿™ä¹Ÿæ˜¯åç»­éœ€è¦å»æƒ³åŠæ³•æ”¹è¿›çš„åœ°æ–¹ã€‚

- **æ–‡ä»¶æ•°å­—ç­¾ååŠŸèƒ½**
  
  - åœ¨å¯¹äºä¸Šä¼ æ–‡ä»¶è¿›è¡Œæ•°å­—ç­¾åè¿™ä¸ªåœ°æ–¹ï¼Œæˆ‘ä»¬è¿›è¡Œäº†è¯¸å¤šæ–¹æ¡ˆçš„å°è¯•ï¼Œå…¶ä¸­æˆ‘ä»¬åˆæ­¥æ€è·¯æ˜¯é‡‡ç”¨äº†OpenSSlç”ŸæˆRSAç§é’¥å»è¿›è¡Œèº«ä»½çš„éªŒè¯
  
  - ```powershell
    #ç”¨ OpenSSLï¼Œ Linux ä¸Šè‡ªå¸¦ï¼Œå¸¸ç”¨å‘½ä»¤å¦‚ä¸‹ï¼š
    #ç”Ÿæˆ RSA ç§é’¥ï¼ˆä¼ ç»Ÿæ ¼å¼çš„ï¼‰
    openssl genrsa -out rsa_private_key.pem 1024
    #å°†ä¼ ç»Ÿæ ¼å¼çš„ç§é’¥è½¬æ¢æˆ PKCS#8 æ ¼å¼çš„ï¼ˆJAVAéœ€è¦ä½¿ç”¨çš„ç§é’¥éœ€è¦ç»è¿‡PKCS#8ç¼–ç ï¼ŒPHPç¨‹åºä¸éœ€è¦ï¼Œå¯ä»¥ç›´æ¥ç•¥è¿‡ï¼‰
    openssl pkcs8 -topk8 -inform PEM -in rsa_private_key.pem -outform PEM -nocrypt
    #ç”Ÿæˆ RSA å…¬é’¥
    openssl rsa -in rsa_private_key.pem -pubout -out rsa_public_key.pem
    ```
  
  - â€‹    ä½¿ç”¨ç§é’¥å¯¹æ–‡ä»¶è¿›è¡ŒåŠ ç­¾ã€å¹¶éªŒè¯
    
    ```bash
    #æœ‰æ˜æ–‡æ–‡ä»¶file.txtå’ŒRSAå¯†é’¥rsa_private_key.pem
    #ä½¿ç”¨md5æŒ‡ä»¤æŒ‡å®šsha1ç®—æ³•ï¼Œå¯¹file.txtè¿›è¡Œç­¾åï¼Œç”Ÿæˆç­¾åæ–‡ä»¶sign1.txt
    openssl md5 -sha512 -sign rsa_private_key.pem -out data_xinbao.tar.gz.sign data_xinbao.tar.gz
    #ä½¿ç”¨md5æŒ‡ä»¤æŒ‡å®šsha1ç®—æ³•ï¼Œå¯¹file.txtè¿›è¡Œç­¾åï¼Œç”Ÿæˆç­¾åæ–‡ä»¶sign1.txt
    openssl dgst -sha512 -sign rsa_private_key.pem -out data_xinbao.tar.gz.sign data_xinbao.tar.gz
    #ä¸¤ä¸ªç­¾åæ–‡ä»¶ä¸€æ ·ï¼Œè¯´æ˜ä¸¤ä¸ªæŒ‡ä»¤å®Œæˆç›¸åŒçš„åŠŸèƒ½
    diff data_xinbao.tar.gz.sign data_xinbao1.tar.gz.sign
    #ä½¿ç”¨RSAå…¬é’¥éªŒè¯ç­¾å(verifyå‚æ•°)ï¼ŒéªŒè¯æˆåŠŸ
    openssl md5 -verify rsa_public_key.pem -sha512 -signature data_xinbao1.tar.gz.sign data_xinbao.tar.gz
    openssl dgst -verify rsa_public_key.pem -sha512 -signature data_xinbao.tar.gz.sign data_xinbao.tar.gz
    ```
    
    æ‹¿åŠ ç­¾çš„åŸæ–‡ä»¶å’ŒåŠ ç­¾åçš„æ–‡ä»¶ä½¿ç”¨Javaä»£ç è¿›è¡Œå¯¹æ¯”ï¼›
    
    ```java
    public class RsaEncrypt {
        /**
         * rsaç­¾å
         * @param data  å¾…ç­¾åçš„å­—ç¬¦ä¸²
         * @param priKey  rsaç§é’¥å­—ç¬¦ä¸²
         * @return ç­¾åç»“æœ
         * @throws Exception    ç­¾åå¤±è´¥åˆ™æŠ›å‡ºå¼‚å¸¸
         */
        public byte[] rsaSign(byte[] data, RSAPrivateKey priKey)
                throws SignatureException {
            try {
                Signature signature = Signature.getInstance("SHA512withRSA");
                signature.initSign(priKey);
                signature.update(data);
    
                byte[] signed = signature.sign();
                return signed;
            } catch (Exception e) {
                throw new SignatureException("RSAcontent = " + data
                        + "; charset = ", e);
            }
        }
    
        /**
         * rsaéªŒç­¾
         * @param data  è¢«ç­¾åçš„å†…å®¹
         * @param sign   ç­¾ååçš„ç»“æœ
         * @param pubKey   rsaå…¬é’¥
         * @return éªŒç­¾ç»“æœ
         * @throws SignatureException éªŒç­¾å¤±è´¥ï¼Œåˆ™æŠ›å¼‚å¸¸
         */
        public boolean verify(byte[] data, byte[] sign, RSAPublicKey pubKey)
                throws SignatureException {
            try {
                Signature signature = Signature.getInstance("SHA512withRSA");
                signature.initVerify(pubKey);
                signature.update(data);
                return signature.verify(sign);
    
            } catch (Exception e) {
                e.printStackTrace();
                throw new SignatureException("RSAéªŒè¯ç­¾å[content = " + data
                        + "; charset = " + "; signature = " + sign + "]å‘ç”Ÿå¼‚å¸¸!", e);
            }
        }
    
        /**
         * ç§é’¥
         */
        private RSAPrivateKey privateKey;
    
        /**
         * å…¬é’¥
         */
        private RSAPublicKey publicKey;
    
        /**
         * å­—èŠ‚æ•°æ®è½¬å­—ç¬¦ä¸²ä¸“ç”¨é›†åˆ
         */
        private static final char[] HEX_CHAR = { '0', '1', '2', '3', '4', '5', '6',
                '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f' };
    
        /**
         * è·å–ç§é’¥
         * @return å½“å‰çš„ç§é’¥å¯¹è±¡
         */
        public RSAPrivateKey getPrivateKey() {
            return privateKey;
        }
    
        /**
         * è·å–å…¬é’¥
         * @return å½“å‰çš„å…¬é’¥å¯¹è±¡
         */
        public RSAPublicKey getPublicKey() {
            return publicKey;
        }
    
        /**
         * éšæœºç”Ÿæˆå¯†é’¥å¯¹
         */
        public void genKeyPair() {
            KeyPairGenerator keyPairGen = null;
            try {
                keyPairGen = KeyPairGenerator.getInstance("RSA");
            } catch (NoSuchAlgorithmException e) {
                e.printStackTrace();
            }
            keyPairGen.initialize(1024, new SecureRandom());
            KeyPair keyPair = keyPairGen.generateKeyPair();
            this.privateKey = (RSAPrivateKey) keyPair.getPrivate();
            this.publicKey = (RSAPublicKey) keyPair.getPublic();
        }
    
        /**
         * ä».pemæ–‡ä»¶ä¸­å–å¾—ç§é’¥
         * @param filePath æ–‡ä»¶è·¯å¾„
         * @return ç§é’¥
         */
        public String getPrivateKeyFromFile(String filePath){
            String strPrivateKey = "";
            try {
                BufferedReader privateKey = new BufferedReader(new FileReader(filePath));
                String line = "";
                while((line = privateKey.readLine()) != null){
                    strPrivateKey += line;
                }
                privateKey.close();
                strPrivateKey = strPrivateKey.replace("-----BEGIN PRIVATE KEY-----","").replace("-----END PRIVATE KEY-----","");
            }catch (Exception e){
                e.printStackTrace();
            }
            return strPrivateKey;
        }
    
        /**
         * ä».pemæ–‡ä»¶ä¸­å–å¾—å…¬é’¥
         * @param filePath æ–‡ä»¶è·¯å¾„
         * @return å…¬é’¥
         */
        public String getPublicKeyFromFile(String filePath){
            String strPublicKey = "";
            try {
                BufferedReader publicKey = new BufferedReader(new FileReader(filePath));
                String line = "";
                while((line = publicKey.readLine()) != null){
                    strPublicKey += line;
                }
                publicKey.close();
                strPublicKey = strPublicKey.replace("-----BEGIN PUBLIC KEY-----","").replace("-----END PUBLIC KEY-----","");
            }catch (Exception e){
                e.printStackTrace();
            }
            return strPublicKey;
        }
    
        /**
         * ä»å­—ç¬¦ä¸²ä¸­åŠ è½½å…¬é’¥
         * @param publicKeyStr å…¬é’¥æ•°æ®å­—ç¬¦ä¸²
         * @throws Exception åŠ è½½å…¬é’¥æ—¶äº§ç”Ÿçš„å¼‚å¸¸
         */
        public void loadPublicKey(String publicKeyStr) throws Exception {
            try {
                byte[] buffer = Base64Utils.decode(publicKeyStr);
                KeyFactory keyFactory = KeyFactory.getInstance("RSA");
                X509EncodedKeySpec keySpec = new X509EncodedKeySpec(buffer);
                this.publicKey = (RSAPublicKey) keyFactory.generatePublic(keySpec);
            } catch (NoSuchAlgorithmException e) {
                throw new Exception("æ— æ­¤ç®—æ³•");
            } catch (InvalidKeySpecException e) {
                throw new Exception("å…¬é’¥éæ³•");
            }catch (NullPointerException e) {
                throw new Exception("å…¬é’¥æ•°æ®ä¸ºç©º");
            }
        }
    
        /**
         * åŠ è½½ç§é’¥
         * @param privateKeyStr ç§é’¥æ–‡ä»¶å
         * @return æ˜¯å¦æˆåŠŸ
         * @throws Exception
         */
        public void loadPrivateKey(String privateKeyStr) throws Exception {
            try {
                byte[] buffer = Base64Utils.decode(privateKeyStr);
                PKCS8EncodedKeySpec keySpec = new PKCS8EncodedKeySpec(buffer);
                KeyFactory keyFactory = KeyFactory.getInstance("RSA");
                this.privateKey = (RSAPrivateKey) keyFactory.generatePrivate(keySpec);
            } catch (NoSuchAlgorithmException e) {
                throw new Exception("æ— æ­¤ç®—æ³•");
            } catch (InvalidKeySpecException e) {
                throw new Exception("ç§é’¥éæ³•");
            } catch (NullPointerException e) {
                throw new Exception("ç§é’¥æ•°æ®ä¸ºç©º");
            }
        }
    
        /**
         * åŠ å¯†è¿‡ç¨‹
         * @param publicKey å…¬é’¥
         * @param plainTextData æ˜æ–‡æ•°æ®
         * @return
         * @throws Exception åŠ å¯†è¿‡ç¨‹ä¸­çš„å¼‚å¸¸ä¿¡æ¯
         */
        public byte[] encrypt(RSAPublicKey publicKey, byte[] plainTextData)
                throws Exception {
            if (publicKey == null) {
                throw new Exception("åŠ å¯†å…¬é’¥ä¸ºç©º, è¯·è®¾ç½®");
            }
            Cipher cipher = null;
            try {
                cipher = Cipher.getInstance("RSA");
                cipher.init(Cipher.ENCRYPT_MODE, publicKey);
                byte[] output = cipher.doFinal(plainTextData);
                return output;
            } catch (NoSuchAlgorithmException e) {
                throw new Exception("æ— æ­¤åŠ å¯†ç®—æ³•");
            } catch (NoSuchPaddingException e) {
                e.printStackTrace();
                return null;
            } catch (InvalidKeyException e) {
                throw new Exception("åŠ å¯†å…¬é’¥éæ³•,è¯·æ£€æŸ¥");
            } catch (IllegalBlockSizeException e) {
                throw new Exception("æ˜æ–‡é•¿åº¦éæ³•");
            } catch (BadPaddingException e) {
                throw new Exception("æ˜æ–‡æ•°æ®å·²æŸå");
            }
        }
    
        /**
         * è§£å¯†è¿‡ç¨‹
         * @param privateKey ç§é’¥
         * @param cipherData å¯†æ–‡æ•°æ®
         * @return æ˜æ–‡
         * @throws Exception   è§£å¯†è¿‡ç¨‹ä¸­çš„å¼‚å¸¸ä¿¡æ¯
         */
        public byte[] decrypt(RSAPrivateKey privateKey, byte[] cipherData)
                throws Exception {
            if (privateKey == null) {
                throw new Exception("è§£å¯†ç§é’¥ä¸ºç©º, è¯·è®¾ç½®");
            }
            Cipher cipher = null;
            try {
                cipher = Cipher.getInstance("RSA");
                cipher.init(Cipher.DECRYPT_MODE, privateKey);
                byte[] output = cipher.doFinal(cipherData);
                return output;
            } catch (NoSuchAlgorithmException e) {
                throw new Exception("æ— æ­¤è§£å¯†ç®—æ³•");
            } catch (NoSuchPaddingException e) {
                e.printStackTrace();
                return null;
            } catch (InvalidKeyException e) {
                throw new Exception("è§£å¯†ç§é’¥éæ³•,è¯·æ£€æŸ¥");
            } catch (IllegalBlockSizeException e) {
                throw new Exception("å¯†æ–‡é•¿åº¦éæ³•");
            } catch (BadPaddingException e) {
                throw new Exception("å¯†æ–‡æ•°æ®å·²æŸå");
            }
        }
    
        /**
         * å­—èŠ‚æ•°æ®è½¬åå…­è¿›åˆ¶å­—ç¬¦ä¸²
         * @param data  è¾“å…¥æ•°æ®
         * @return åå…­è¿›åˆ¶å†…å®¹
         */
        public static String byteArrayToString(byte[] data) {
            StringBuilder stringBuilder = new StringBuilder();
            for (int i = 0; i < data.length; i++) {
                // å–å‡ºå­—èŠ‚çš„é«˜å››ä½ ä½œä¸ºç´¢å¼•å¾—åˆ°ç›¸åº”çš„åå…­è¿›åˆ¶æ ‡è¯†ç¬¦ æ³¨æ„æ— ç¬¦å·å³ç§»
                stringBuilder.append(HEX_CHAR[(data[i] & 0xf0) >>> 4]);
                // å–å‡ºå­—èŠ‚çš„ä½å››ä½ ä½œä¸ºç´¢å¼•å¾—åˆ°ç›¸åº”çš„åå…­è¿›åˆ¶æ ‡è¯†ç¬¦
                stringBuilder.append(HEX_CHAR[(data[i] & 0x0f)]);
                if (i < data.length - 1) {
                    stringBuilder.append(' ');
                }
            }
            return stringBuilder.toString();
        }
    
        /**
         * btyeè½¬æ¢hexå‡½æ•°
         * @param byteArray
         * @return
         */
        public static String byteToHex(byte[] byteArray) {
            StringBuffer strBuff = new StringBuffer();
            for (int i = 0; i < byteArray.length; i++) {
                if (Integer.toHexString(0xFF & byteArray[i]).length() == 1) {
                    strBuff.append("0").append(
                            Integer.toHexString(0xFF & byteArray[i]));
                } else {
                    strBuff.append(Integer.toHexString(0xFF & byteArray[i]));
                }
            }
            return strBuff.toString();
        }
    
        /**
         * ä»¥å­—èŠ‚ä¸ºå•ä½è¯»å–æ–‡ä»¶ï¼Œå¸¸ç”¨äºè¯»äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå¦‚å›¾ç‰‡ã€å£°éŸ³ã€å½±åƒç­‰æ–‡ä»¶ã€‚
         */
        public static byte[] readFileByBytes(String fileName) {
            File file = new File(fileName);
            InputStream in = null;
            byte[] txt = new byte[(int) file.length()];
            try {
                // ä¸€æ¬¡è¯»ä¸€ä¸ªå­—èŠ‚
                in = new FileInputStream(file);
                int tempbyte;
                int i = 0;
                while ((tempbyte = in.read()) != -1) {
                    txt[i] = (byte) tempbyte;
                    i++;
                }
                in.close();
                return txt;
            } catch (IOException e) {
                e.printStackTrace();
                return txt;
            }
        }
    
        /**
         * Main æµ‹è¯•æ–¹æ³•
         * @param args
         */
        public static void main(String[] args) {
            RsaEncrypt rsaEncrypt = new RsaEncrypt();
            try {
                String publicKey = "MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDPTrsUJ26WDSEQwKuAJhQ6XTNHKl1/+bWeyKRQKb0jeCyuiChMxN/qYSgg2BvS2bP51Rb5P9/UE1Rxm5drr3RYNMDvQoXBuA+rHiUX3wkdXmWSaktVbfe5C95N5FCF2jyLMIuWmrMk6Wo3r5MXrCb54A6zU7SzO/r7F0VkpBh9KwIDAQAB";
                rsaEncrypt.loadPublicKey(publicKey);
                System.out.println("åŠ è½½å…¬é’¥æˆåŠŸ");
            } catch (Exception e) {
                System.err.println(e.getMessage());
                System.err.println("åŠ è½½å…¬é’¥å¤±è´¥");
            }
            // åŠ è½½ç§é’¥
            try {
                String privateKey = "MIICeAIBADANBgkqhkiG9w0BAQEFAASCAmIwggJeAgEAAoGBAM9OuxQnbpYNIRDAq4AmFDpdM0cqXX/5tZ7IpFApvSN4LK6IKEzE3+phKCDYG9LZs/nVFvk/39QTVHGbl2uvdFg0wO9ChcG4D6seJRffCR1eZZJqS1Vt97kL3k3kUIXaPIswi5aasyTpajevkxesJvngDrNTtLM7+vsXRWSkGH0rAgMBAAECgYAlnFEQnP7RNlyTX4E95Kqy1AnjlWoVN8adoiU9bfUkpD7nA0jcdLNzIGFZZBvYKysd3m0ml1ISdddSLTpRjSl8K6O9dJDud3G9Oh3qCGgFflcKuKEXDnlaooX1sBrWF5vS0Gvg98x2C52Pnblm2eGVuTvCMaINDZLaamUlaFldMQJBAO3clhAIBJSWlm7Tt/a1d7+IbsGcS16Rk/N23DHg6LADXxIezxgSrpztSa5Nq81W5RC2WsotYYeRt+8KHsPRRn8CQQDfHa7A7hBTOT/V4FXTApuJUlReUh6cHWPsrxf/rUYKylK9WYBAJv1AZW9KaRtcadyu7ldNMb3MAsbE2vLoW2tVAkEAxhvLAF8tMXSapoO/3MMXkXbYiHjcbU9iooyEqSZhpven3ze51Jr6w8j+bSZTyRpufpTi2TEi4f8D6xvKs91BkQJBAKLS05xiX7GMfwSDQb7LEVzmo0FuJn6BiFHK+fWRqyLmwfkDHvAyQ/FB1TT1fY00iGN09msUWNFQWWSB8HEXfj0CQQCAJYV35rNJ781DXhBH5m1tq74zDNzAqynjm0hqhzlVMSHTYFIeU6SBnhk3swnfvJ8kgy3bQJtohYZ8Tuaz19VN";
                rsaEncrypt.loadPrivateKey(privateKey);
                System.out.println("åŠ è½½ç§é’¥æˆåŠŸ");
            } catch (Exception e) {
                System.err.println(e.getMessage());
                System.err.println("åŠ è½½ç§é’¥å¤±è´¥");
            }
            // æµ‹è¯•å­—ç¬¦ä¸²
            String encryptStr = "12321dsfasf1321312fsfdsafsdafasfsadf";
            try {
                System.out.println(new Date());
                // åŠ å¯†
                byte[] cipher = rsaEncrypt.encrypt(rsaEncrypt.getPublicKey(),
                        encryptStr.getBytes());
                // è§£å¯†
                byte[] plainText = rsaEncrypt.decrypt(rsaEncrypt.getPrivateKey(),
                        cipher);
                System.out.println(new Date());
                System.out.println(new String(plainText));
                byte[] content = readFileByBytes("/data/zhnx/IN/data_xinbao.tar.gz");
                // ç­¾åéªŒè¯
                byte[] signbyte = rsaEncrypt.rsaSign(content, rsaEncrypt.getPrivateKey());
                System.out.println("ç­¾å-----ï¼š" + byteToHex(signbyte));
                ByteUtil.saveFile(signbyte,"/data/zhnx/IN/","data_xinbao1.tar.gz.sign");
                Boolean isok = rsaEncrypt.verify(content, signbyte, rsaEncrypt.getPublicKey());
                System.out.println("éªŒè¯ï¼š" + isok);
    
                // è¯»å–éªŒè¯æ–‡ä»¶
                byte[] read = readFileByBytes("/data/zhnx/IN/data_xinbao.tar.gz.sign");
                System.out.println("è¯»å–ç­¾åæ–‡ä»¶ï¼š" + byteToHex(read));
                Boolean isfok = rsaEncrypt.verify(content, read, rsaEncrypt.getPublicKey());
                System.out.println("æ–‡ä»¶éªŒè¯2ï¼š" + isfok);
    
            } catch (Exception e) {
                System.err.println(e.getMessage());
            }
        }
    }
    ```
    
    å°†æœ€ç»ˆéœ€è¦éªŒè¯çš„æ–‡ä»¶æ ¼å¼åŒæºæ–‡ä»¶è¿›è¡Œå¯¹æ¯”éªŒè¯æ¥è¾¾åˆ°æ•°å­—ç­¾åçš„èº«ä»½éªŒè¯åŠŸèƒ½ï¼Œä½†æ˜¯åœ¨å®é™…çš„å¼€å‘è¿‡ç¨‹ä¸­ï¼Œç”±äºæˆ‘ä»¬ç³»ç»Ÿæ¥å—å¤šç§æ–‡ä»¶æ ¼å¼ï¼Œå¯¼è‡´åœ¨éŸ³é¢‘æ–‡ä»¶ã€è§†é¢‘æ–‡ä»¶ã€å‹ç¼©åŒ…ç­‰æ–‡ä»¶åœ¨è¿›è¡Œè§£æè¿‡ç¨‹ä¸­æ€»æ˜¯ä¼šå‡ºç°è§£æé”™è¯¯è€Œå¯¼è‡´ä¹±ç ï¼Œæœ€ç»ˆä½¿å¾—åœ¨æ•°å­—ç­¾ååŠ å¯†åä»åç«¯è¿”å›çš„æ•°æ®æ— æ³•æ­£ç¡®è§£æè€Œæ— æ³•è¯»å–ï¼Œäºæ˜¯æˆ‘ä»¬åªèƒ½æš‚æ—¶æ³¨é‡Šäº†è¿™ä¸€æ®µä»£ç ã€‚
    
    äºæ˜¯æˆ‘ä»¬æ¢äº†å¦ä¸€ç§æ–¹æ¡ˆå»å®ç°ç”¨æˆ·è®¿é—®æƒé™å’Œæ–‡ä»¶åŠ å¯†ï¼Œé€šè¿‡ç”¨æˆ·è‡ªè¡Œè®¾å®šæŸä¸ªå£ä»¤ï¼Œä½œä¸ºç”¨æˆ·ä¸Šä¼ æ•°æ®dataéƒ¨åˆ†çš„`accesskey`ï¼Œé€šè¿‡DESåŠ å¯†æ¥å®ç°å¯¹æ–‡ä»¶æ•°æ®çš„åŠ å¯†å’Œè®¿é—®ï¼ŒåŒ…æ‹¬å¯¹äºæ–‡ä»¶çš„ä¸‹è½½ã€æ‰“å¼€ã€åˆ é™¤è¿›è¡Œè®¿é—®æƒé™çš„æ§åˆ¶ã€‚
    
    ```java
    * åŠ å¯†
         *
         * @param datasource byte[]
         * @param password   String
         * @return byte[]
         */
        public static byte[] encrypt(byte[] datasource, String password) {
            try {
                SecureRandom random = new SecureRandom();
                DESKeySpec desKey = new DESKeySpec(password.getBytes());
                // åˆ›å»ºä¸€ä¸ªå¯†åŒ™å·¥å‚ï¼Œç„¶åç”¨å®ƒæŠŠDESKeySpecè½¬æ¢æˆ
                SecretKeyFactory keyFactory = SecretKeyFactory.getInstance("DES");
                SecretKey securekey = keyFactory.generateSecret(desKey);
                // Cipherå¯¹è±¡å®é™…å®ŒæˆåŠ å¯†æ“ä½œ
                Cipher cipher = Cipher.getInstance("DES");
                // ç”¨å¯†åŒ™åˆå§‹åŒ–Cipherå¯¹è±¡
                cipher.init(Cipher.ENCRYPT_MODE, securekey, random);
                // ç°åœ¨ï¼Œè·å–æ•°æ®å¹¶åŠ å¯†
                // æ­£å¼æ‰§è¡ŒåŠ å¯†æ“ä½œ
                return cipher.doFinal(datasource);
            } catch (Throwable e) {
                e.printStackTrace();
            }
            return null;
        }
        /**
         * è§£å¯†
         *
         * @param src      byte[]
         * @param password String
         * @return byte[]
         * @throws Exception
         */
        public static byte[] decrypt(byte[] src, String password) throws Exception {
            // DESç®—æ³•è¦æ±‚æœ‰ä¸€ä¸ªå¯ä¿¡ä»»çš„éšæœºæ•°æº
            SecureRandom random = new SecureRandom();
            // åˆ›å»ºä¸€ä¸ªDESKeySpecå¯¹è±¡
            DESKeySpec desKey = new DESKeySpec(password.getBytes());
            // åˆ›å»ºä¸€ä¸ªå¯†åŒ™å·¥å‚
            SecretKeyFactory keyFactory = SecretKeyFactory.getInstance("DES");
            // å°†DESKeySpecå¯¹è±¡è½¬æ¢æˆSecretKeyå¯¹è±¡
            SecretKey securekey = keyFactory.generateSecret(desKey);
            // Cipherå¯¹è±¡å®é™…å®Œæˆè§£å¯†æ“ä½œ
            Cipher cipher = Cipher.getInstance("DES");
            // ç”¨å¯†åŒ™åˆå§‹åŒ–Cipherå¯¹è±¡
            cipher.init(Cipher.DECRYPT_MODE, securekey, random);
            // çœŸæ­£å¼€å§‹è§£å¯†æ“ä½œ
            return cipher.doFinal(src);
        }
    }
    ```
  
  - ![](https://s6.jpg.cm/2022/08/04/Pd8QID.png)

## å‚è€ƒèµ„æ–™

- [Vue.jsä½¿ç”¨æ–‡æ¡£](https://cn.vuejs.org/v2/guide/)
- [SpringBootä½¿ç”¨æ–‡æ¡£](https://spring.io/guides)
- [ElementUIä½¿ç”¨æ–‡æ¡£](https://element.eleme.cn/#/zh-CN/component/installation)
- [Setting global sass variables in a vue project](https://stackoverflow.com/questions/53686780/setting-global-sass-variables-in-a-vue-project)
- [Encrypt password in front with Vue JS](https://www.anycodings.com/questions/encrypt-password-in-front-with-vue-js)
- [Implementation of music playback component in vue](https://dev.to/jordanirabor/music-and-video-player-with-vuejs--day-2--3-30-days-of-code-c24)
- [vue uses axios to pass parameters](https://stackoverflow.com/questions/53709142/best-way-to-pass-query-parameters-to-url-using-axios-in-vue)
- [Address Resolution in DNS (Domain Name Server)](https://www.geeksforgeeks.org/address-resolution-in-dns-domain-name-server/)
- [How to deploy vue project](https://cli.vuejs.org/guide/deployment.html)
- [Styling Vue components with CSS](https://developer.mozilla.org/en-US/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Vue_styling)
- [Ways to make component styles globally responsive in vue](https://vuejs.org/guide/essentials/component-basics.html)
- [Generating a Digital Signature for Java](https://docs.oracle.com/javase/tutorial/security/apisign/gensig.html)
- [ECSäº‘æœåŠ¡å™¨æ“ä½œæ‰‹å†Œ](https://help.aliyun.com/document_detail/42956.html)
- [MD5 Hashing in Java](https://www.baeldung.com/java-md5)
- [Spring Boot File upload example with Multipart File](https://www.bezkoder.com/spring-boot-file-upload/)
- [Vue realizes online preview of video files](https://vuejs.org/guide/scaling-up/sfc.html)
- [Data encryption basic algorithms: Java implementation](https://www.alirookie.com/post/data-encryption-basic-algorithms-java-implementation)
- [vue-router route encryption (without webpack) for security](https://stackoverflow.com/questions/56003782/vue-router-route-encryption-without-webpack-for-security)